<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ernest</title>
    <link>http://docs.ernest.io/</link>
    <description>Recent content on Ernest</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 09 Mar 2016 20:08:11 +0100</lastBuildDate>
    <atom:link href="http://docs.ernest.io/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Support Plan Contact Form</title>
      <link>http://docs.ernest.io/supportplan/</link>
      <pubDate>Wed, 09 Mar 2016 20:08:11 +0100</pubDate>
      
      <guid>http://docs.ernest.io/supportplan/</guid>
      <description>&lt;form class=&#34;form-horizontal&#34; id=&#34;input-form&#34; action=&#34;https://docs.google.com/forms/d/1t_F8UU5CebFIWe2rCU7xlBPk-z0ISN_V6v2bcktsoH0/formResponse?&#34; method=&#34;POST&#34; target=&#34;no-target&#34; onSubmit=&#34;alert(&#39;Thank you for your query, we will respond shortly.&#39;);window.location.href = &#39;/support/&#39;;&#34;&gt;
&lt;fieldset&gt;

&lt;legend&gt;&lt;/legend&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;firstname&#34;&gt;First Name&lt;/label&gt;  
  &lt;input id=&#34;firstname&#34; name=&#34;entry.706791366&#34; type=&#34;text&#34; placeholder=&#34;First Name&#34; class=&#34;form-control&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;lastname&#34;&gt;Last Name&lt;/label&gt;  
  &lt;input id=&#34;lastname&#34; name=&#34;entry.1072744609&#34; type=&#34;text&#34; placeholder=&#34;Last Name&#34; class=&#34;form-control&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;email&#34;&gt;Email Address&lt;/label&gt;  
  &lt;input id=&#34;email&#34; name=&#34;entry.1586474514&#34; type=&#34;text&#34; placeholder=&#34;Email Address&#34; class=&#34;form-control&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;plan&#34;&gt;Support Plan&lt;/label&gt;
  &lt;div&gt;
    &lt;input type=&#34;radio&#34; name=&#34;entry.1568716440&#34; id=&#34;plan-0&#34; value=&#34;Standard&#34; checked=&#34;checked&#34;&gt;
    &lt;label for=&#34;plan-0&#34;&gt;
      &lt;span&gt;&lt;/span&gt;Standard
    &lt;/label&gt;
  &lt;/div&gt;
  &lt;div&gt;
    &lt;input type=&#34;radio&#34; name=&#34;entry.1568716440&#34; id=&#34;plan-1&#34; value=&#34;Premium&#34;&gt;
    &lt;label for=&#34;plan-1&#34;&gt;
      &lt;span&gt;&lt;/span&gt;Premium
    &lt;/label&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;submit&#34;&gt;&lt;/label&gt;
    &lt;button id=&#34;submit&#34; type=&#34;submit&#34; class=&#34;btn btn-success&#34;&gt;Submit&lt;/button&gt;
&lt;/div&gt;

&lt;/fieldset&gt;
&lt;/form&gt;

&lt;iframe src=&#34;#&#34; id=&#34;no-target&#34; name=&#34;no-target&#34; style=&#34;visibility:hidden&#34;&gt;&lt;/iframe&gt;</description>
    </item>
    
    <item>
      <title>vCloud Account Creation Request Form</title>
      <link>http://docs.ernest.io/vcloud-account/</link>
      <pubDate>Wed, 09 Mar 2016 20:08:11 +0100</pubDate>
      
      <guid>http://docs.ernest.io/vcloud-account/</guid>
      <description>&lt;form class=&#34;form-horizontal&#34; id=&#34;input-form&#34; action=&#34;https://docs.google.com/forms/d/1VgjUkBjZQw-xSt1-8debb4Wk7FQhDr2vb-jrH3byKd4/formResponse?&#34; method=&#34;POST&#34; target=&#34;no-target&#34; onSubmit=&#34;alert(&#39;Thank you for your request, we will process it shortly.&#39;);window.location.href = &#39;/documentation/#vcloud-director-examples&#39;;&#34;&gt;
&lt;fieldset&gt;

&lt;legend&gt;&lt;/legend&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;firstname&#34;&gt;First Name&lt;/label&gt;  
  &lt;input id=&#34;firstname&#34; name=&#34;entry.1042863238&#34; type=&#34;text&#34; placeholder=&#34;First Name&#34; class=&#34;form-control&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;lastname&#34;&gt;Last Name&lt;/label&gt;  
  &lt;input id=&#34;lastname&#34; name=&#34;entry.893089123&#34; type=&#34;text&#34; placeholder=&#34;Last Name&#34; class=&#34;form-control&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label class=&#34;col-md-4 control-label&#34; for=&#34;email&#34;&gt;Email Address&lt;/label&gt;  
  &lt;input id=&#34;email&#34; name=&#34;entry.1081522787&#34; type=&#34;text&#34; placeholder=&#34;Email Address&#34; class=&#34;form-control&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;submit&#34;&gt;&lt;/label&gt;
    &lt;button id=&#34;submit&#34; type=&#34;submit&#34; class=&#34;btn btn-success&#34;&gt;Submit&lt;/button&gt;
&lt;/div&gt;

&lt;/fieldset&gt;
&lt;/form&gt;

&lt;iframe src=&#34;#&#34; id=&#34;no-target&#34; name=&#34;no-target&#34; style=&#34;visibility:hidden&#34;&gt;&lt;/iframe&gt;</description>
    </item>
    
    <item>
      <title>Community Slack Channel Access Form</title>
      <link>http://docs.ernest.io/slack/</link>
      <pubDate>Wed, 09 Mar 2016 19:56:50 +0100</pubDate>
      
      <guid>http://docs.ernest.io/slack/</guid>
      <description>&lt;form class=&#34;form-horizontal&#34; id=&#34;input-form&#34; action=&#34;https://docs.google.com/forms/d/1t0olvu3MQNBdz3oTKLm_NczBeFzL8AnIeMOrQwfAKF4/formResponse?&#34; method=&#34;POST&#34; target=&#34;no-target&#34; onSubmit=&#34;alert(&#39;Thank you for your request, we will process it shortly.&#39;);window.location.href = &#39;/community/&#39;;&#34;&gt;
&lt;fieldset&gt;

&lt;legend&gt;&lt;/legend&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;firstname&#34;&gt;First Name: &lt;/label&gt;  
  &lt;input id=&#34;firstname&#34; name=&#34;entry.1042863238&#34; type=&#34;text&#34; class=&#34;form-control&#34; placeholder=&#34;First Name&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;lastname&#34;&gt;Last Name: &lt;/label&gt;  
  &lt;input id=&#34;lastname&#34; name=&#34;entry.893089123&#34; type=&#34;text&#34; class=&#34;form-control&#34; placeholder=&#34;Last Name&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;email&#34;&gt;Email Address: &lt;/label&gt;  
  &lt;input id=&#34;email&#34; name=&#34;entry.1081522787&#34; type=&#34;text&#34; class=&#34;form-control&#34; placeholder=&#34;Email Address&#34; required=&#34;&#34;&gt;
&lt;/div&gt;

&lt;div class=&#34;form-group&#34;&gt;
  &lt;label for=&#34;submit&#34;&gt;&lt;/label&gt;
  &lt;div&gt;
    &lt;button id=&#34;submit&#34; type=&#34;submit&#34; class=&#34;btn btn-success&#34;&gt;Submit&lt;/button&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;/fieldset&gt;
&lt;/form&gt;

&lt;iframe src=&#34;#&#34; id=&#34;no-target&#34; name=&#34;no-target&#34; style=&#34;visibility:hidden&#34;&gt;&lt;/iframe&gt;</description>
    </item>
    
    <item>
      <title>Ernest</title>
      <link>http://docs.ernest.io/</link>
      <pubDate>Wed, 09 Mar 2016 00:11:02 +0100</pubDate>
      
      <guid>http://docs.ernest.io/</guid>
      <description>

&lt;h2 id=&#34;overview&#34;&gt;Overview&lt;/h2&gt;

&lt;p&gt;Ernest is an application and infrastructure orchestration and automation engine. Ernest takes the complexity and people out of DevOps, simplifying the process of creating and managing even the most complex environments.&lt;/p&gt;

&lt;p&gt;By delivering everything a development team requires to be able to deploy code and manage its lifecycle Ernest de-risks and accelerates the application development/deployment process, helping developers to deliver value back to the business faster and providing increased business agility&lt;/p&gt;

&lt;p&gt;Ernest has been engineered for flexibility, allowing you to design your environment the way you want. You pick the technologies, the cloud and the architecture then overlay your compliance and governance requirements.&lt;/p&gt;

&lt;p&gt;The Cloud is about freedom of choice and mobility. With Ernest you can easily deploy your environment onto the cloud or infrastructure of your choice and the redeploy it to an alternative cloud as business requirements demand.&lt;/p&gt;

&lt;p&gt;Because Ernest is about developing and then using software reliably and reproducibly it ensures consistency and agility throughout the application lifecycle. Ernest brings the same version control, testing and configuration management tooling you use elsewhere in your development process to your platform; allowing you to utilise version controlled, tested, automated deployments of your environment from the development stage, through testing, to production.&lt;/p&gt;

&lt;h2 id=&#34;key-features&#34;&gt;Key features&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;A Continuous Delivery pipeline for Infrastructure as Code&lt;/li&gt;
&lt;li&gt;An orchestration tool for any configuration manager and any cloud&lt;/li&gt;
&lt;li&gt;Fully version controlled&lt;/li&gt;
&lt;li&gt;Fully automated&lt;/li&gt;
&lt;li&gt;Works with any technology stack&lt;/li&gt;
&lt;li&gt;Able to manage the full application life cycle&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ernest is built around the idea that DevOps is not a job title, but a methodology, one which Ernest has enshrined in code. Ernest enables digital and SaaS transformation, while removing the complexity of DevOps by delivering it as-a-Service.&lt;/p&gt;

&lt;h2 id=&#34;next-steps&#34;&gt;Next steps&lt;/h2&gt;

&lt;p&gt;Follow the instructions &lt;a href=&#34;http://docs.ernest.io/downloads/&#34;&gt;here&lt;/a&gt; to get Ernest and the Ernest CLI. Once we have done that we can &lt;a href=&#34;http://docs.ernest.io/getting-started/&#34;&gt;start working&lt;/a&gt; with them.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Getting started</title>
      <link>http://docs.ernest.io/getting-started/</link>
      <pubDate>Wed, 09 Mar 2016 00:11:02 +0100</pubDate>
      
      <guid>http://docs.ernest.io/getting-started/</guid>
      <description>

&lt;h2 id=&#34;setup-ernest&#34;&gt;Setup Ernest&lt;/h2&gt;

&lt;p&gt;In this quickstart guide we will build a simple environment consisting of a public server and private server on AWS, and allow SSH access from our IP. You will need a working copy of Ernest and the Ernest CLI, your AWS Access Key and Secret Key, and an AWS VPC.&lt;/p&gt;

&lt;h3 id=&#34;get-ernest&#34;&gt;Get Ernest&lt;/h3&gt;

&lt;p&gt;Follow the instructions &lt;a href=&#34;http://docs.ernest.io/downloads/&#34;&gt;here&lt;/a&gt; to get Ernest and the Ernest CLI.&lt;/p&gt;

&lt;h3 id=&#34;setup-your-user&#34;&gt;Setup Your User&lt;/h3&gt;

&lt;p&gt;Target your Ernest instance:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest target https://10.50.1.11
Target set
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;where 10.50.1.11 is the IP address of the host running our Ernest instance.&lt;/p&gt;

&lt;p&gt;Login to Ernest as admin:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest login --user admin --password abc123
Welcome back admin
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create a user:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest user create user1 abc123
User user1 successfully created
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create a group:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest group create group1
Group &#39;group1&#39; successfully created, you can add users with &#39;ernest group add-user username group1&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Add the user to the group:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest group add-user user1 group1
User &#39;user1&#39; is now assigned to group &#39;group1&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;setup-your-datacenter&#34;&gt;Setup Your Datacenter&lt;/h3&gt;

&lt;p&gt;Login as the user:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest login --user user1 --password abc123
Welcome back user1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Configure the datacenter on Ernest using your Access Key, Secret Key, and VPC ID:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest datacenter create aws --region eu-central-1 --secret_access_key XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX --access_key_id YYYYYYYYYYYYYYYYYYYY my-dc
Datacenter &#39;my-dc&#39; successfully created
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;create-your-environment&#34;&gt;Create Your Environment&lt;/h2&gt;

&lt;p&gt;We will use this YAML (demo.yml) to create our environment:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
name: demo
datacenter: my-dc

vpcs:
  - name: my-vpc
    subnet: 10.0.0.0/16
    auto_remove: true

networks:
  - name: public
    vpc: my-vpc
    subnet: 10.0.10.0/24
    public: true
  - name: private
    vpc: my-vpc
    subnet: 10.0.11.0/24
    public: false
    nat_gateway: private-nat

nat_gateways:
  - name: private-nat
    public_network: public

security_groups:
  - name: public-sg
    vpc: my-vpc
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 52.211.19.211/32
        protocol: tcp
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;
  - name: private-sg
    vpc: my-vpc
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 10.0.0.0/16
        protocol: tcp
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;

instances:
  - name: public
    elastic_ip: true
    type: t2.micro
    image: ami-ed82e39e
    network: public
    start_ip: 10.0.10.11
    count: 1
    key_pair: my-key
    security_groups:
      - public-sg

  - name: private
    type: t2.micro
    image: ami-ed82e39e
    network: private
    start_ip: 10.0.11.11
    count: 1
    key_pair: my-key
    security_groups:
      - private-sg

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can apply our YAML:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service apply demo.yml
Environment creation requested
Ernest will show you all output from your requested service creation
You can cancel at any moment with Ctrl+C, even the service is still being created, you won&#39;t have any output
Applying you definition
 Created VPC 
   Subnet    : 10.0.0.0/16
   Status    : completed
 Created Internet Gateway my-vpc
   AWS ID : igw-46d2d12f
   Status : completed
 Created Network private
   Subnet : 10.0.11.0/24
   AWS ID : subnet-ec95dc84
   Status : completed
 Created Firewall public-sg
   Status    : completed
 Created Firewall private-sg
   Status    : completed
 Created Network public
   Subnet : 10.0.10.0/24
   AWS ID : subnet-2294dd4a
   Status : completed
 Created Instance private-1
   IP        : 10.0.11.11
   AWS ID    : i-04731288df658cab9
   Status    : completed
 Created Instance public-1
   IP        : 10.0.10.11
   PUBLIC IP : 52.58.250.234
   AWS ID    : i-0a9f811ea1242adc1
   Status    : completed
 Created Nat private-nat
   Status    : completed
SUCCESS: rules successfully applied
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Congratulations you have built something with Ernest!&lt;/p&gt;

&lt;h3 id=&#34;next-steps&#34;&gt;Next Steps&lt;/h3&gt;

&lt;p&gt;Find out how to use the CLI &lt;a href=&#34;http://docs.ernest.io/documentation/&#34;&gt;here&lt;/a&gt;. Then dive into the detailed examples for the supported providers:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Amazon Web Services&lt;/li&gt;
&lt;li&gt;vCloud Director&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Documentation</title>
      <link>http://docs.ernest.io/documentation/</link>
      <pubDate>Wed, 09 Mar 2016 20:08:11 +0100</pubDate>
      
      <guid>http://docs.ernest.io/documentation/</guid>
      <description>

&lt;h2 id=&#34;using-the-cli&#34;&gt;Using the CLI&lt;/h2&gt;

&lt;h3 id=&#34;connecting-to-ernest&#34;&gt;Connecting to Ernest&lt;/h3&gt;

&lt;p&gt;The first step is to specify the IP address of our Ernest Server:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest target https://&amp;lt;Ernest Server IP&amp;gt;
Target set
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we should login to Ernest with the built-in admin account:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest login
Username: admin
Password: *******
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;(The default admin password is ‘w4rmR3d’)&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;and change the admin password:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest user change-password
You&#39;re about to change your password, please respond the questions below:
Current password: &amp;lt;old admin password&amp;gt;
New password: &amp;lt;new admin password&amp;gt;
Confirm new password: &amp;lt;new admin password&amp;gt;
Your password has been changed
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can create a user, a group, and add the user to the group:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest user create &amp;lt;user&amp;gt; &amp;lt;password&amp;gt;
User &amp;lt;user&amp;gt; successfully created

$ ernest group create &amp;lt;group&amp;gt;
Group &amp;lt;group&amp;gt; successfully created, you can add users with &#39;ernest group add-user username &amp;lt;group&amp;gt;&#39;

$ ernest group add-user &amp;lt;user&amp;gt; &amp;lt;group&amp;gt;
User &amp;lt;user&amp;gt; is now assigned to group &amp;lt;group&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now we can login with our new user:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest logout
Bye.

$ ernest login
Username: &amp;lt;user&amp;gt;
Password: &amp;lt;password&amp;gt;
Welcome back &amp;lt;user&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can confirm our Ernest Server IP and user:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest info
Current target : https://&amp;lt;Ernest Server IP&amp;gt;
Current user : &amp;lt;user&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;datacenters&#34;&gt;Datacenters&lt;/h3&gt;

&lt;p&gt;Ernest uses the concept of a datacenter to specify an infrastructure service provider, the provider API endpoint, credentials to access the provider API, and information specific to certain provider types. An example of creating a datacenter in Ernest for Amazon Web Services is:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest datacenter create aws --region region --secret_access_key &amp;lt;secret_access_key&amp;gt; --access_key_id &amp;lt;access_key_id&amp;gt; &amp;lt;dc_name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;services&#34;&gt;Services&lt;/h3&gt;

&lt;h4 id=&#34;what-is-a-service&#34;&gt;What is a Service?&lt;/h4&gt;

&lt;p&gt;With Ernest a &lt;strong&gt;service&lt;/strong&gt; is a collection of networking, virtual machines, and configuration options that collectively define an environment, and also the datacenter where the environment should be built. A service is defined in YAML format, and you can see examples of this in the provider-specific documentation.&lt;/p&gt;

&lt;h4 id=&#34;how-to-create-modify-services&#34;&gt;How to create/modify Services&lt;/h4&gt;

&lt;p&gt;Once we have created a datacenter and defined our service in YAML the process of building the service is:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service apply &amp;lt;yaml file&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once the service is created we can modify it by changing the YAML and then re-applying it. Ernest will calculate the differences and apply only those changes necessary to transition the service from the current state to the requested state.&lt;/p&gt;

&lt;p&gt;Finally you can also destroy services if needed:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service destroy &amp;lt;service name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;view-service-state-and-history&#34;&gt;View Service State and History&lt;/h4&gt;

&lt;p&gt;Ernest stores the state of each service, as well as all historical states. You can list the available service with:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service list
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For a given service you can see the history of all builds for that service:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service history &amp;lt;service name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can view the YAML for a specific build by:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service definition &amp;lt;service name&amp;gt; --build &amp;lt;build id&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can view provider-generated information related to our service:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service info &amp;lt;service name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;cli-command-reference&#34;&gt;CLI Command Reference&lt;/h2&gt;

&lt;h3 id=&#34;ernest-target&#34;&gt;ernest target&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest target - Configure Ernest target instance.

USAGE:
   ernest target &amp;lt;ernest_url&amp;gt;

DESCRIPTION:
   Sets up ernest instance target.

   Example:
    $ ernest target https://myernest.com
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-info&#34;&gt;ernest info&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest info - Display system-wide information.

USAGE:
   ernest info

DESCRIPTION:
   Displays ernest instance information.

   Example:
    $ ernest info
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-login&#34;&gt;ernest login&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest login - Login with your Ernest credentials.

USAGE:
   ernest login [command options]

DESCRIPTION:
   Logs an user into Ernest instance.

   Example:
    $ ernest login

   It can also be used without asking the username and password.

   Example:
    $ ernest login --user &amp;lt;user&amp;gt; --password &amp;lt;password&amp;gt;


OPTIONS:
   --user value      User credentials
   --password value  Password credentials
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-logout&#34;&gt;ernest logout&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest logout - Clear local authentication credentials.

USAGE:
   ernest logout

DESCRIPTION:
   Logs out an user from Ernest instance.

   Example:
    $ ernest logout
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-user-list&#34;&gt;ernest user list&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest user list - List available users.

USAGE:
   ernest user list

DESCRIPTION:
   List available users.

   Example:
    $ ernest user list
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-user-create&#34;&gt;ernest user create&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest user create - Create a new user.

USAGE:
   ernest user create [command options] &amp;lt;username&amp;gt; &amp;lt;password&amp;gt;

DESCRIPTION:
   Create a new user on the targeted instance of Ernest.

   Example:
    $ ernest user create &amp;lt;username&amp;gt; &amp;lt;password&amp;gt;

   You can also add an email to the user with the flag --email

   Example:
    $ ernest user create --email username@example.com &amp;lt;username&amp;gt; &amp;lt;password&amp;gt;


OPTIONS:
   --email value  Email for the user
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-user-change-password&#34;&gt;ernest user change-password&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest user change-password - Change password of available users.

USAGE:
   ernest user change-password [command options] [arguments...]

DESCRIPTION:
   Change password of available users.

   Example:
    $ ernest user change-password

    or changing a change-password by being admin:

    $ ernest user change-password --user &amp;lt;username&amp;gt; --current-password &amp;lt;current-password&amp;gt; --password &amp;lt;new-password&amp;gt;


OPTIONS:
   --user value              The username of the user to change password
   --password value          The new user password
   --current-password value  The current user password
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-user-disable&#34;&gt;ernest user disable&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest user disable - Disable available users.

USAGE:
   ernest user disable &amp;lt;username&amp;gt;

DESCRIPTION:
   Disable available users.

  Example:
   $ ernest user disable &amp;lt;user-name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-group-delete&#34;&gt;ernest group delete&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest group delete - Deletes a group.

USAGE:
   ernest group delete

DESCRIPTION:
   Deletes a group by name

    Example:
      $ ernest group delete &amp;lt;name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-group-list&#34;&gt;ernest group list&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest group list - List available groups.

USAGE:
   ernest group list

DESCRIPTION:
   List available groups.

   Example:
    $ ernest group list
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-group-create&#34;&gt;ernest group create&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest group create - Create a group.

USAGE:
   ernest group create

DESCRIPTION:
   Create a group.

   Example:
    $ ernest group create &amp;lt;name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-group-add-user&#34;&gt;ernest group add-user&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest group add-user - Adds a user to a group.

USAGE:
   ernest group add-user

DESCRIPTION:
   Adds a user to a group.

    Example:
      $ ernest group add-user &amp;lt;user-name&amp;gt; &amp;lt;group-name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-group-remove-user&#34;&gt;ernest group remove-user&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest group remove-user - Removes an user from a group.

USAGE:
   ernest group remove-user

DESCRIPTION:
   Removes an user from a group.

    Example:
      $ ernest group remove-user &amp;lt;username&amp;gt; &amp;lt;group name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-group-add-datacenter&#34;&gt;ernest group add-datacenter&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest group add-datacenter - Adds a datacenter to a group.

USAGE:
   ernest group add-datacenter

DESCRIPTION:
   Adds a datacenter to a group.

    Example:
      $ ernest group add-datacenter &amp;lt;datacenter-name&amp;gt; &amp;lt;group-name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-group-remove-datacenter&#34;&gt;ernest group remove-datacenter&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest group remove-datacenter - Removes a datacenter from a group.

USAGE:
   ernest group remove-datacenter

DESCRIPTION:
   Removes an datacenter from a group.

    Example:
      $ ernest group remove-datacenter &amp;lt;datacenter name&amp;gt; &amp;lt;group name&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-datacenter-list&#34;&gt;ernest datacenter list&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest datacenter list - List available datacenters.

USAGE:
   ernest datacenter list

DESCRIPTION:
   List available datacenters.

   Example:
    $ ernest datacenter list
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-datacenter-create-vcloud&#34;&gt;ernest datacenter create vcloud&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest datacenter create vcloud - Create a new vcloud datacenter.

USAGE:
   ernest datacenter create vcloud [command options] &amp;lt;datacenter-name&amp;gt;

DESCRIPTION:
   Create a new vcloud datacenter on the targeted instance of Ernest.

   Example:
    $ ernest datacenter create vcloud --user username --password xxxx --org MY-ORG-NAME --vse-url http://vse.url --vcloud-url https://myernest.com --public-network MY-PUBLIC-NETWORK mydatacenter

   Template example:
    $ ernest datacenter create vcloud --template mydatacenter.yml mydatacenter
    Where mydatacenter.yaml will look like:
      ---
      fake: true
      org: org
      password: pwd
      public-network: MY-NETWORK
      user: bla
      vcloud-url: &amp;quot;http://ss.com&amp;quot;
      vse-url: &amp;quot;http://ss.com&amp;quot;



OPTIONS:
   --user value            Your VCloud valid user name
   --password value        Your VCloud valid password
   --org value             Your vCloud Organization
   --vse-url value         VSE URL
   --vcloud-url value      VCloud URL
   --public-network value  Public Network
   --template value        Datacenter template
   --fake                  Fake datacenter
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-datacenter-create-aws&#34;&gt;ernest datacenter create aws&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest datacenter create aws - Create a new aws datacenter.

USAGE:
   ernest datacenter create aws [command options] &amp;lt;datacenter-name&amp;gt;

DESCRIPTION:
   Create a new AWS datacenter on the targeted instance of Ernest.

  Example:
   $ ernest datacenter create aws --region us-west-2 --access_key_id AKIAIOSFODNN7EXAMPLE --secret_access_key wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY my_datacenter

   Template example:
    $ ernest datacenter create aws --template mydatacenter.yml mydatacenter
    Where mydatacenter.yaml will look like:
      ---
      fake: true
      access_key_id : AKIAIOSFODNN7EXAMPLE
      secret_access_key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
      region: us-west-2


OPTIONS:
   --region value, -r value             Datacenter region
   --access_key_id value, -k value      AWS access key id
   --secret_access_key value, -s value  AWS Secret access key
   --template value, -t value           Datacenter template
   --fake, -f                           Fake datacenter
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-datacenter-update-vcloud&#34;&gt;ernest datacenter update vcloud&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest datacenter update vcloud - Updates the specified VCloud datacenter.

USAGE:
   ernest datacenter update vcloud [command options] &amp;lt;datacenter-name&amp;gt;

DESCRIPTION:
   Updates the specified VCloud datacenter.

   Example:
    $ ernest datacenter update vcloud --user &amp;lt;me&amp;gt; --org &amp;lt;org&amp;gt; --password &amp;lt;secret&amp;gt; my_datacenter


OPTIONS:
   --user value      Your VCloud valid user name
   --password value  Your VCloud valid password
   --org value       Your vCloud Organization
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-datacenter-update-aws&#34;&gt;ernest datacenter update aws&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest datacenter update aws - Updates the specified AWS datacenter.

USAGE:
   ernest datacenter update aws [command options] &amp;lt;datacenter-name&amp;gt;

DESCRIPTION:
   Updates the specified AWS datacenter.

   Example:
    $ ernest datacenter update aws --access_key_id AKIAIOSFODNN7EXAMPLE --secret_access_key wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY my_datacenter


OPTIONS:
   --access_key_id value      Your AWS access key id
   --secret_access_key value  Your AWS secret access key
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-datacenter-delete&#34;&gt;ernest datacenter delete&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest datacenter delete - Deletes the specified datacenter.

USAGE:
   ernest datacenter delete &amp;lt;datacenter-name&amp;gt;

DESCRIPTION:
   Deletes the name specified datacenter.

   Example:
    $ ernest datacenter delete my_datacenter
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-list&#34;&gt;ernest service list&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service list - List available services.

USAGE:
   ernest service list

DESCRIPTION:
   List available services and shows its most relevant information.

   Example:
    $ ernest service list
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-apply&#34;&gt;ernest service apply&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service apply - Builds or changes infrastructure.

USAGE:
   ernest service apply &amp;lt;file.yml&amp;gt;

DESCRIPTION:
   Sends a service YAML description file to Ernest to be executed.
   You must be logged in to execute this command.

   If the file is not provided, ernest.yml will be used by default.

   Example:
    $ ernest apply myservice.yml
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-destroy&#34;&gt;ernest service destroy&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service destroy - Destroy a service.

USAGE:
   ernest service destroy [command options] &amp;lt;service_name&amp;gt;

DESCRIPTION:
   Destroys a service by its name.

   Example:
    $ ernest destroy myservice


OPTIONS:
   --force, -f  Hard ernest service removal.
   --yes, -y    Destroy a service without prompting confirmation.
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-history&#34;&gt;ernest service history&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service history - Shows the history of a service, a list of builds

USAGE:
   ernest service history &amp;lt;service_name&amp;gt;

DESCRIPTION:
   Shows the history of a service, a list of builds and its status and basic information.

   Example:
    $ ernest history myservice
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-reset&#34;&gt;ernest service reset&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service reset - Reset an in progress service.

USAGE:
   ernest service reset &amp;lt;service_name&amp;gt;

DESCRIPTION:
   Reseting a service creation may cause problems, please make sure you know what are you doing.

   Example:
    $ ernest reset myservice
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-definition&#34;&gt;ernest service definition&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service definition - Show the current definition of a service by its name

USAGE:
   ernest service definition [command options] &amp;lt;service_name&amp;gt;

DESCRIPTION:
   Show the current definition of a service by its name getting the definition about the build.

   Example:
    $ ernest service definition myservice


OPTIONS:
   --build value  Build ID
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-info&#34;&gt;ernest service info&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service info - $ ernest service info &amp;lt;my_service&amp;gt; --build &amp;lt;specific build&amp;gt;

USAGE:
   ernest service info [command options] &amp;lt;service_name&amp;gt;

DESCRIPTION:
   Will show detailed information of the last build of a specified service.
  In case you specify --build option you will be able to output the detailed information of specific build of a service.

   Examples:
    $ ernest service definition myservice
    $ ernest service definition myservice --build build1


OPTIONS:
   --build value  Build ID
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-monitor&#34;&gt;ernest service monitor&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service monitor - Monitor a service.

USAGE:
   ernest service monitor &amp;lt;service_name&amp;gt;

DESCRIPTION:
   Monitors a service while it is being built by its service name.

   Example:
    $ ernest monitor my_service
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-diff&#34;&gt;ernest service diff&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service diff - $ ernest service diff &amp;lt;service_name&amp;gt; &amp;lt;build_a&amp;gt; &amp;lt;build_b&amp;gt;

USAGE:
   ernest service diff &amp;lt;service_name&amp;gt; &amp;lt;build_a&amp;gt; &amp;lt;build_b&amp;gt;

DESCRIPTION:
   Will display the diff between two different builds

   Examples:
    $ ernest service diff my_service 1 2
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-service-import&#34;&gt;ernest service import&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest service import - $ ernest service import &amp;lt;my_datacenter&amp;gt; &amp;lt;my_service&amp;gt;

USAGE:
   ernest service import [command options] &amp;lt;service_name&amp;gt;

DESCRIPTION:
   Will import te service &amp;lt;my_service&amp;gt; from datacenter &amp;lt;datacenter_name&amp;gt;

   Examples:
    $ ernest service import my_datacenter my_service


OPTIONS:
   --datacenter value  Datacenter name
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-preferences-logger-list&#34;&gt;ernest preferences logger list&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest preferences logger list - Lists active loggers.

USAGE:
   ernest preferences logger list

DESCRIPTION:
   List active loggers.

   Example:
    $ ernest preferences logger list
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-preferences-logger-add&#34;&gt;ernest preferences logger add&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest preferences logger add - Creates / updates a logger based on its type.

USAGE:
   ernest preferences logger add [command options]

DESCRIPTION:
   Creates / updates a logger based on its types.

   Example:
    $ ernest preferences logger add basic --logfile /tmp/ernest.log
    $ ernest preferences logger add logstash --hostname 10.50.1.1 --port 5000 --timeout 50000
    $ ernest preferences logger add rollbar --token MY_ROLLBAR_TOKEN


OPTIONS:
   --logfile value   Specify the path for the loging file
   --token value     Rollbar token
   --env value       Rollbar environment
   --hostname value  Logstash hostname
   --port value      Logstash port (default: 0)
   --timeout value   Logstash timeout (default: 0)
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-preferences-logger-delete&#34;&gt;ernest preferences logger delete&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest preferences logger delete - Deletes a logger based on its type.

USAGE:
   ernest preferences logger delete

DESCRIPTION:
   Deletes a logger based on its types.

   Example:
    $ ernest preferences logger delete basic
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-docs&#34;&gt;ernest docs&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest docs - Open docs in the default browser.

USAGE:
   ernest docs

DESCRIPTION:
   Open docs in the default browser.

   Example:
    $ ernest docs
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-setup&#34;&gt;ernest setup&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest setup - Use it to setup your ernest instance

USAGE:
   ernest setup [command options] [arguments...]

DESCRIPTION:
   This command will help you to setup your ernest instance by:
- [ ] configure ernest-cli target
- [ ] create a plain user
- [ ] create a group
- [ ] link the user to the group
- [ ] login as the newly created user.
- [ ] create a new datacenter (optional)


OPTIONS:
   --user value, -u value      Admin user
   --password value, -p value  Admin password
   --target value, -t value    Ernest location
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-component&#34;&gt;ernest component&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest component - Components related subcommands

USAGE:
   ernest component command [command options] [arguments...]

COMMANDS:
     list  List components on your datacenter.

OPTIONS:
   --help, -h  show help
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;ernest-log&#34;&gt;ernest log&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;NAME:
   ernest log - Inline display of ernest logs.

USAGE:
   ernest log [command options]

DESCRIPTION:
   Display ernest server logs inline

   Example:
    $ ernest log
    $ ernest log --raw
  

OPTIONS:
   --raw  Raw output will be displayed instead of pretty-printed
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;amazon-web-services&#34;&gt;Amazon Web Services&lt;/h2&gt;

&lt;h3 id=&#34;introduction&#34;&gt;Introduction&lt;/h3&gt;

&lt;p&gt;Amazon Web Services (AWS) is a secure cloud services platform, offering compute power, database storage, content delivery and other functionality to help businesses scale and grow.&lt;/p&gt;

&lt;h3 id=&#34;supported-services&#34;&gt;Supported Services&lt;/h3&gt;

&lt;p&gt;The following AWS services are supported by Ernest:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;EC2&lt;/li&gt;
&lt;li&gt;VPC&lt;/li&gt;
&lt;li&gt;ELB&lt;/li&gt;
&lt;li&gt;S3&lt;/li&gt;
&lt;li&gt;Route53&lt;/li&gt;
&lt;li&gt;RDS&lt;/li&gt;
&lt;li&gt;EBS&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;aws-examples&#34;&gt;AWS Examples&lt;/h2&gt;

&lt;h3 id=&#34;setup&#34;&gt;Setup&lt;/h3&gt;

&lt;p&gt;Before we get started we will need the following information:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;AWS access key&lt;/li&gt;
&lt;li&gt;AWS secret key&lt;/li&gt;
&lt;li&gt;AWS VPC ID&lt;/li&gt;
&lt;li&gt;Ernest IP address&lt;/li&gt;
&lt;li&gt;Ernest username/password&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The first step is to set the IP address of Ernest:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest target https://10.50.1.11
Target set

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Next we login to Ernest:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest login
Username: user1
Password: ******
Welcome back user1
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once we have logged in to Ernest we can setup the AWS datacenter and credentials that Ernest will use to create our infrastructure:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest datacenter create aws --region eu-central-1 --secret_access_key XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX --access_key_id YYYYYYYYYYYYYYYYYYYY my-dc
Datacenter &#39;my-dc&#39; successfully created
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now that we have our datacenter created in Ernest we can start building stuff.&lt;/p&gt;

&lt;h3 id=&#34;creating-a-service&#34;&gt;Creating a Service&lt;/h3&gt;

&lt;p&gt;We will create a simple environment with one Ubuntu server, a public IP assigned to it, and the ability to ssh to that server from our IP (52.211.19.211).&lt;/p&gt;

&lt;p&gt;Our environment is defined in the following YAML:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
name: demo
datacenter: my-dc

vpcs:
  - name: my-vpc
    subnet: 10.0.0.0/16
    auto_remove: true

networks:
  - name: public
    vpc: my-vpc
    subnet: 10.0.10.0/24
    public: true

security_groups:
  - name: public-sg
    vpc: my-vpc
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 52.211.19.211/32
        protocol: tcp
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;

instances:
  - name: public
    elastic_ip: true
    type: t2.micro
    image: ami-3f1bd150
    network: public
    start_ip: 10.0.10.11
    count: 1
    key_pair: my-key
    security_groups:
      - public-sg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Lets apply our definition:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service apply demo.yml
Environment creation requested
Ernest will show you all output from your requested service creation
You can cancel at any moment with Ctrl+C, even the service is still being created, you won&#39;t have any output
Applying you definition
 Created VPC 
   Subnet    : 10.0.0.0/16
   Status    : completed
 Created Internet Gateway my-vpc
   AWS ID : igw-136d607a
   Status : completed
 Created Firewall public-sg
   Status    : completed
 Created Network public
   Subnet : 10.0.10.0/24
   AWS ID : subnet-d13f75b9
   Status : completed
 Created Instance public-1
   IP        : 10.0.10.11
   PUBLIC IP : 52.57.235.194
   AWS ID    : i-07159adf41870eb1f
   Status    : completed
SUCCESS: rules successfully applied
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can list the services we have built:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service list
+------+--------+----------+-----------------------------+-------+
| NAME | STATUS | ENDPOINT |         LAST BUILD          | USER  |
+------+--------+----------+-----------------------------+-------+
| demo | done   |          | 2017-04-17T12:47:20.805675Z | user1 |
+------+--------+----------+-----------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can see detailed provider-generated information related to our service:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service info demo
Name : demo
Status : done
Date : 2017-04-17 12:47:20.805675 +0000 UTC

VPCs:
+--------+--------------+--------+
|  NAME  |      ID      | SUBNET |
+--------+--------------+--------+
| my-vpc | vpc-c3fc74ab |        |
+--------+--------------+--------+

ELBs (empty)


Networks:
+--------+-----------------+-------------------+
|  NAME  |       ID        | AVAILABILITY ZONE |
+--------+-----------------+-------------------+
| public | subnet-d13f75b9 |                   |
+--------+-----------------+-------------------+

Instances:
+----------+---------------------+---------------+------------+
|   NAME   |         ID          |   PUBLIC IP   | PRIVATE IP |
+----------+---------------------+---------------+------------+
| public-1 | i-07159adf41870eb1f | 52.57.235.194 | 10.0.10.11 |
+----------+---------------------+---------------+------------+

NAT gateways (empty)


Security groups:
+-----------+-------------+
|   NAME    |  GROUP ID   |
+-----------+-------------+
| public-sg | sg-a146f2ca |
+-----------+-------------+

RDS Clusters (empty)


RDS Instances (empty)


EBS Volumes (empty)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can view the history of applies for our service:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service history demo
+----+------+----------+--------------------------------+-------+
| ID | NAME | BUILD ID |             STATUS             | USER  |
+----+------+----------+--------------------------------+-------+
|  1 | demo | done     | 2017-04-17 12:47:20.805675     | user1 |
|    |      |          | +0000 UTC                      |       |
+----+------+----------+--------------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For our service we can show the definition applied for a given Build ID:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service definition demo --build 1
name: demo
datacenter: my-dc
vpcs:
- name: my-vpc
  subnet: 10.0.0.0/16
  auto_remove: true
networks:
- name: public
  vpc: my-vpc
  subnet: 10.0.10.0/24
  public: true
security_groups:
- name: public-sg
  vpc: my-vpc
  egress:
  - ip: 0.0.0.0/0
    protocol: any
    from_port: &amp;quot;0&amp;quot;
    to_port: &amp;quot;65535&amp;quot;
  ingress:
  - ip: 52.211.19.211/32
    protocol: tcp
    from_port: &amp;quot;22&amp;quot;
    to_port: &amp;quot;22&amp;quot;
instances:
- name: public
  elastic_ip: true
  type: t2.micro
  image: ami-3f1bd150
  network: public
  start_ip: 10.0.10.11
  count: 1
  key_pair: my-key
  security_groups:
  - public-sg
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;modifying-a-service&#34;&gt;Modifying a Service&lt;/h3&gt;

&lt;p&gt;Lets modify the service we create above. We will add a private network with a server on it and a NAT gateway attached to it.&lt;/p&gt;

&lt;p&gt;Our modified YAML file is:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
name: demo
datacenter: my-dc

vpcs:
  - name: my-vpc
    subnet: 10.0.0.0/16
    auto_remove: true

networks:
  - name: public
    vpc: my-vpc
    subnet: 10.0.10.0/24
    public: true
  - name: private
    subnet: 10.0.11.0/24
    vpc: my-vpc
    public: false
    nat_gateway: private-nat

nat_gateways:
  - name: private-nat
    public_network: public

security_groups:
  - name: public-sg
    vpc: my-vpc
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 52.211.19.211/32
        protocol: tcp
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;
  - name: private-sg
    vpc: my-vpc
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 10.0.0.0/16
        protocol: tcp
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;

instances:
  - name: public
    elastic_ip: true
    type: t2.micro
    image: ami-3f1bd150
    network: public
    start_ip: 10.0.10.11
    count: 1
    key_pair: my-key
    security_groups:
      - public-sg

  - name: private
    type: t2.micro
    image: ami-3f1bd150
    network: private
    start_ip: 10.0.11.11
    count: 1
    key_pair: my-key
    security_groups:
      - private-sg
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When we apply this YAML we can see Ernest make the necessary changes:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service apply demo.yml
Environment creation requested
Ernest will show you all output from your requested service creation
You can cancel at any moment with Ctrl+C, even the service is still being created, you won&#39;t have any output
Applying you definition
 Created Network private
   Subnet : 10.0.11.0/24
   AWS ID : subnet-f43e749c
   Status : completed
 Created Firewall private-sg
   Status    : completed
 Created Instance private-1
   IP        : 10.0.11.11
   AWS ID    : i-0c156ad400811c1fe
   Status    : completed
 Created Nat private-nat
   Status    : completed
SUCCESS: rules successfully applied
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can see our service in the list, with the most recent update time:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service list
+------+--------+----------+-----------------------------+-------+
| NAME | STATUS | ENDPOINT |         LAST BUILD          | USER  |
+------+--------+----------+-----------------------------+-------+
| demo | done   |          | 2017-04-17T12:50:34.583482Z | user1 |
+------+--------+----------+-----------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The service info has also updated with the new information:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service info demo
Name : demo
Status : done
Date : 2017-04-17 12:50:34.583482 +0000 UTC

VPCs:
+--------+--------------+--------+
|  NAME  |      ID      | SUBNET |
+--------+--------------+--------+
| my-vpc | vpc-c3fc74ab |        |
+--------+--------------+--------+

ELBs (empty)


Networks:
+---------+-----------------+-------------------+
|  NAME   |       ID        | AVAILABILITY ZONE |
+---------+-----------------+-------------------+
| public  | subnet-d13f75b9 |                   |
| private | subnet-f43e749c |                   |
+---------+-----------------+-------------------+

Instances:
+-----------+---------------------+---------------+------------+
|   NAME    |         ID          |   PUBLIC IP   | PRIVATE IP |
+-----------+---------------------+---------------+------------+
| public-1  | i-07159adf41870eb1f | 52.57.235.194 | 10.0.10.11 |
| private-1 | i-0c156ad400811c1fe |               | 10.0.11.11 |
+-----------+---------------------+---------------+------------+

NAT gateways (empty)


Security groups:
+------------+-------------+
|    NAME    |  GROUP ID   |
+------------+-------------+
| public-sg  | sg-a146f2ca |
| private-sg | sg-bc46f2d7 |
+------------+-------------+

RDS Clusters (empty)


RDS Instances (empty)


EBS Volumes (empty)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The history shows both of the applies we have done for this service:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service history demo
+----+------+----------+--------------------------------+-------+
| ID | NAME | BUILD ID |             STATUS             | USER  |
+----+------+----------+--------------------------------+-------+
|  2 | demo | done     | 2017-04-17 12:50:34.583482     | user1 |
|    |      |          | +0000 UTC                      |       |
|  1 | demo | done     | 2017-04-17 12:47:20.805675     | user1 |
|    |      |          | +0000 UTC                      |       |
+----+------+----------+--------------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The definition for the most recent build can be displayed:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service definition demo --build 2
name: demo
datacenter: my-dc
vpcs:
- name: my-vpc
  subnet: 10.0.0.0/16
  auto_remove: true
networks:
- name: public
  vpc: my-vpc
  subnet: 10.0.10.0/24
  public: true
- name: private
  subnet: 10.0.11.0/24
  vpc: my-vpc
  public: false
  nat_gateway: private-nat
nat_gateways:
- name: private-nat
  public_network: public
security_groups:
- name: public-sg
  vpc: my-vpc
  egress:
  - ip: 0.0.0.0/0
    protocol: any
    from_port: &amp;quot;0&amp;quot;
    to_port: &amp;quot;65535&amp;quot;
  ingress:
  - ip: 52.211.19.211/32
    protocol: tcp
    from_port: &amp;quot;22&amp;quot;
    to_port: &amp;quot;22&amp;quot;
- name: private-sg
  vpc: my-vpc
  egress:
  - ip: 0.0.0.0/0
    protocol: any
    from_port: &amp;quot;0&amp;quot;
    to_port: &amp;quot;65535&amp;quot;
  ingress:
  - ip: 10.0.0.0/16
    protocol: tcp
    from_port: &amp;quot;22&amp;quot;
    to_port: &amp;quot;22&amp;quot;
instances:
- name: public
  elastic_ip: true
  type: t2.micro
  image: ami-3f1bd150
  network: public
  start_ip: 10.0.10.11
  count: 1
  key_pair: my-key
  security_groups:
  - public-sg
- name: private
  type: t2.micro
  image: ami-3f1bd150
  network: private
  start_ip: 10.0.11.11
  count: 1
  key_pair: my-key
  security_groups:
  - private-sg
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;clean-up&#34;&gt;Clean-up&lt;/h3&gt;

&lt;p&gt;After we have finished with our service we can remove it:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service destroy demo
Do you really want to destroy this service? (Y/n)Y
 Deleted Nat private-nat
   Status    : completed
 Deleted Instance public-1
   IP        : 10.0.10.11
   PUBLIC IP : 52.57.235.194
   AWS ID    : i-07159adf41870eb1f
   Status    : completed
 Deleted Firewall public-sg
   Status    : completed
 Deleted Network public
   Subnet : 10.0.10.0/24
   AWS ID : subnet-d13f75b9
   Status : completed
 Deleted Internet Gateway my-vpc
   AWS ID : igw-136d607a
   Status : completed
 Deleted Instance private-1
   IP        : 10.0.11.11
   AWS ID    : i-0c156ad400811c1fe
   Status    : completed
 Deleted Firewall private-sg
   Status    : completed
 Deleted Network private
   Subnet : 10.0.11.0/24
   AWS ID : subnet-f43e749c
   Status : completed
 Deleted VPC 
   Subnet    : 10.0.0.0/16
   Status    : completed
SUCCESS: your environment has been successfully deleted
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;aws-yaml-reference&#34;&gt;AWS YAML Reference&lt;/h2&gt;

&lt;p&gt;Environments built and managed with Ernest are defined in YAML format.&lt;/p&gt;

&lt;h3 id=&#34;example&#34;&gt;Example&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;---
name: demo
datacenter: my-dc


vpcs:
  - name: my-vpc
    id: vpc-abcdef01
    subnet: 10.0.0.0/16
    auto_remove: true

networks:
  - name: web
    subnet: 10.0.10.0/24
    vpc: my-vpc
    public: true
  - name: db
    subnet: 10.0.11.0/24
    vpc: my-vpc
    public: false
    nat_gateway: db-nat
  - name: db-standby
    subnet: 10.0.12.0/24
    vpc: my-vpc
    public: false
    nat_gateway: db-nat

nat_gateways:
  - name: db-nat
    public_network: web

security_groups:
  - name: web-sg
    vpc: my-vpc
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 10.0.0.0/16
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
      - ip: 52.211.19.211/32
        protocol: tcp
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;
  - name: db-sg
    vpc: my-vpc
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 10.0.0.0/16
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
      - ip: 52.211.19.211/32
        protocol: tcp
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;

instances:
  - name: web
    elastic_ip: true
    type: t2.micro
    image: ami-ed82e39e
    network: web
    start_ip: 10.0.10.11
    count: 1
    key_pair: web-key
    security_groups:
      - web-sg

  - name: db
    type: t2.micro
    image: ami-ed82e39e
    network: db
    start_ip: 10.0.11.11
    count: 1
    key_pair: db-key
    security_groups:
      - db-sg
    volumes:
      - volume: database-vol
        device: /dev/sdx

ebs_volumes:
  - name: database-vol
    type: io1
    size: 100
    iops: 10000
    count: 1
    availability_zone: eu-west-1a

loadbalancers:
  - name: elb-1
    private: false
    networks:
      - web
    instances:
      - web
    listeners:
      - from_port: 80
        to_port: 80
        protocol: http
      - from_port: 443
        to_port: 443
        protocol: https
        ssl_cert: ssl-cert-id
    security_groups:
      - web-sg

s3_buckets:
  - name: bucket-1
    acl: private
    bucket_location: eu-west-1
    grantees:
      - id: foo
        type: emailaddress, id, uri
        permissions: full, read, read-acl, write-acl

route53_zones:
  - name: example.com
    private: false
    records:
      - entry: one.example.com
        type: A
        ttl: 3600
        instances:
          - web-1
      - entry: two.example.com
        type: CNAME
        ttl: 3600
        loadbalancers:
          - elb-1
      - entry: three.example.com
        type: MX
        ttl: 3600
        values:
          - 8.8.8.8
          - 8.8.4.4
      - entry: db.example.com
        type: CNAME
        ttl: 3600
        rds_clusters:
          - rds-aurora

rds_clusters:
  - name: rds-aurora
    engine: aurora
    port: 3306
    networks:
      - db
      - db-standby
    security_groups:
      - db-sg-1
    database_name: test
    database_username: test
    database_password: testpass-2

rds_instances:
  - name: rds-test-1
    cluster: rds-test
    size: db.r3.xlarge
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;field-reference&#34;&gt;Field Reference&lt;/h3&gt;

&lt;h4 id=&#34;service-options&#34;&gt;Service Options&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;name: demo
datacenter: my-dc
vpc_id: vpc-abcdef01
vpc_subnet: 10.0.0.0/16

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Service Options support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the service to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;datacenter&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the datacenter where the service is built.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;networking&#34;&gt;Networking&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;networks:
  - name: web
    subnet: 10.0.10.0/24
    public: true
  - name: db
    subnet: 10.0.11.0/24
    public: false
    nat_gateway: db-nat

nat_gateways:
  - name: db-nat
    public_network: web

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Networking supports the following fields:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;networks&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A network is a subnet that our instances can connect to. This is what allows us to network/isolate VM’s together.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the subnet to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;subnet&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the IP address range of the subnet.&lt;/li&gt;
&lt;li&gt;It must follow CIDR notation as described at: &lt;a href=&#34;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&#34;&gt;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique for this user &amp;amp; all the networks on the manifest.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;public&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines if the subnet will be public or private.&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;Values can be: “true“ or “false“.&lt;/li&gt;
&lt;li&gt;This field will default to “false“.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;nat_gateway&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the NAT gateway to use for this subnet.&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;This field can be empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;nat_gateways&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;NAT gateways enable instances in a private subnet to connect to the Internet or other AWS services, but prevent the Internet from initiating a connection with those instances.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the NAT gateway to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;public_network&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the public network the NAT gateway will reside.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;security-groups&#34;&gt;Security Groups&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;security_groups:
  - name: web-sg
    egress:
      - ip: 0.0.0.0/0
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;
    ingress:
      - ip: 10.0.0.0/16
        protocol: any
        from_port: &#39;0&#39;
        to_port: &#39;65535&#39;

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Security Groups support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;name&lt;/strong&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the security group to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;egress&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Security group egress rules.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ip&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the IP address range for this rule.&lt;/li&gt;
&lt;li&gt;It must follow CIDR notation as described at: &lt;a href=&#34;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&#34;&gt;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;protocol&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the protocol for this rule.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;Values can be: tcp | udp | icmp | any&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;from_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Starting port-range number.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: 0 - 65535.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;to_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ending port-range number.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: 0 - 65535.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;ingress&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Security group ingress rules.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;ip&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the IP address range for this rule.&lt;/li&gt;
&lt;li&gt;It must follow CIDR notation as described at: &lt;a href=&#34;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&#34;&gt;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;protocol&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the protocol for this rule.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;Values can be: tcp | udp | icmp | any&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;from_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Starting port-range number.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: 0 - 65535.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;to_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ending port-range number.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: 0 - 65535.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;instances&#34;&gt;Instances&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;instances:
  - name: web
    elastic_ip: true
    type: t2.micro
    image: ami-ed82e39e
    network: web
    start_ip: 10.0.10.11
    count: 1
    key_pair: web-key
    security_groups:
      - web-sg
    volumes:
      - volume: big-vol
        device: /dev/sdx

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Instances support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the instance to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;elastic_ip&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines if the instance will be assigned an elastic IP.&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;Values can be: “true“ or “false“.&lt;/li&gt;
&lt;li&gt;This field will default to “false“.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the instance size.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be a valid AWS EC2 size.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;image&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of an AMI to install.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;network:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of a network to attach this instance.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field should exist on the networks section previously specified.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;start_ip:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the starting IP to allocate the VMs to be built.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be a valid IP.&lt;/li&gt;
&lt;li&gt;This IP should belong to the network already defined on the instance.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;count&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Integer that defines the number of instances to be created.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be greater or equal that 1&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;key_pair&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that specifies the key pair to be used to login to the instances.&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;security_groups&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array that contains security groups that will be applied to the instances.&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;This field can be empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;volumes&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;EBS volumes to be attached to the vm. Please note that the count of the EBS volume must be greater or equal to the amount of instances specified.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;volume&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;String that references the name of an EBS volume specidied on the yaml&lt;/li&gt;
&lt;li&gt;This field is mandatory&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field cannot be empty or null&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;device&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;String that defines what device name is exposed to the instance&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field is mandatory&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field cannot be empty or null&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;load-balancers&#34;&gt;Load Balancers&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;loadbalancers:
  - name: elb-1
    private: false
    subnets:
      - web-subnet
    instances:
      - web
    listeners:
      - from_port: 80
        to_port: 80
        protocol: http
      - from_port: 443
        to_port: 443
        protocol: https
        ssl_cert: ssl-cert-id
    security_groups:
      - web-sg

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Loadbalancers support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the instance to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;private&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Boolean that defines if the loadbalancer will be private or public.&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;Values can be: “true“ or “false“.&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field will default to “false“.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;networks&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Array of String&amp;rsquo;s that defines which public network/subnet to attach to the ELB.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field is mandatory if private is set to false.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field cannot be null or empty.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field must specify a network/subnet that exists on the yaml.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Only one subnet can be deployed per availablilty zone. It is advised that you specify an AZ when defining a network/subnet.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;instances&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of String&amp;rsquo;s that defines which group of instances to add to the ELB.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must specify an instance group that exists on the yaml.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;security_groups&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of String&amp;rsquo;s that defines which security groups to apply to the ELB.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;This field must specify a security group that exists on the yaml.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;listeners&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ELB Listeners.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;protocol&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the protocol for this rule.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;Values can be: http | https | ssl | tcp&lt;/li&gt;
&lt;li&gt;If https or ssl is specified, an ssl_cert must be specified.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;from_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Starting port-range number.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: 1 - 65535.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;to_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ending port-range number.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: 1 - 65535.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;ssl_cert&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The ssl certificate ID of a valid AWS Certificate Manager (ACM) cert.&lt;/li&gt;
&lt;li&gt;This field is mandatory only if protocol is set to https or ssl.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;s3-buckets&#34;&gt;S3 Buckets&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;s3_buckets:
  - name: bucket-1
    acl: private
    bucket_location: eu-west-1
    grantees:
      - id: foo
        type: emailaddress, id, uri
        permissions: full, read, read-acl, write-acl
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;S3 support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) name of the bucket.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;acl&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) the canned ACL to apply to the bucket.&lt;/li&gt;
&lt;li&gt;The value of this field can be private, public-read, public-read-write&lt;/li&gt;
&lt;li&gt;or authenticated-read&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;bucket_location&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) the location constraint&lt;/li&gt;
&lt;li&gt;The value of this field can be EU, eu-west-1, us-west-1, us-west-2,&lt;/li&gt;
&lt;li&gt;ap-south-1, ap-southeast-2, ap-northeast-1, sa-east-1, cn-north-1 or&lt;/li&gt;
&lt;li&gt;eu-central-1&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;grantees&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(collection) List of permissions on the bucket.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;id&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) Grantee name&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) Grantee type&lt;/li&gt;
&lt;li&gt;Possible values : email address, id or uri&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;permissions&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) Permissions for this grantee on the bucket&lt;/li&gt;
&lt;li&gt;Possible values: full, read, read-acl and write-acl&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;#### Route53 Zones&lt;/p&gt;

&lt;pre&gt;&lt;code&gt; route53_zones:
   - name: example.com
     private: false
     records:
       - entry: one.example.com
         type: A
         ttl: 3600
         values:
           - 8.8.8.8
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;S3 support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The domain name of the zone.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;private&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) sets the zone to be private hosted zone.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or false. Default is false.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;records&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;The collection of DNS entries you want to host.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;entry&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) the full domain record entry&lt;/li&gt;
&lt;li&gt;The value of this field should be an F.Q.D.N (fully qualified domain name)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Type&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;(string) the full domain record entry&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The value of this field should be one of &amp;lsquo;A&amp;rsquo;, &amp;lsquo;AAAA&amp;rsquo;, &amp;lsquo;CNAME&amp;rsquo;, &amp;lsquo;MX&amp;rsquo;, &amp;lsquo;PTR&amp;rsquo;, &amp;lsquo;TXT&amp;rsquo;, &amp;lsquo;SRV&amp;rsquo;, &amp;lsquo;SPF&amp;rsquo;, &amp;lsquo;NAPTR&amp;rsquo;, &amp;lsquo;NS&amp;rsquo;, &amp;lsquo;SOA&amp;rsquo;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;TTL&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;(int) the expiration period of the entry.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The value of this field should be greater than 0&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;values&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of strings. The values the entry will return&lt;/li&gt;
&lt;li&gt;These values must be valid for the type of record you have selected.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;Loadbalancers&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of strings. The loadbalancers you wish the entry to resolve to.&lt;/li&gt;
&lt;li&gt;The type of record must be set to CNAME&lt;/li&gt;
&lt;li&gt;You must specify only loadbalancers or instances, not both.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;instances&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of strings. The loadbalancers you wish the entry to resolve to.&lt;/li&gt;
&lt;li&gt;The type of record must be set to A&lt;/li&gt;
&lt;li&gt;This must target the individual instance, including the instances number, i.e. web-1&lt;/li&gt;
&lt;li&gt;You must specify only loadbalancers or instances, not both.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;rds-clusters&#34;&gt;RDS Clusters&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;rds_clusters:
  - name: aurora-test
    engine: aurora
    engine_version: 1.9
    public: false
    port: 3306
    availablily_zones:
      - eu-west-1a
      - eu-west-1b
      - eu-west-1c
    security_groups:
      - sg-1
    networks:
      - db-nw
    database_name: aurora-test
    database_username: username
    database_password: password
    backups:
      window: Mon:21:30-Mon:22:00
      rentention_period: 1
    maintenance_window: Mon:21:30-Mon:22:00
    final_snapshot: true

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;RDS Clusters support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The name of the rds cluster.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;engine&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The engine type of the rds cluster.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;Currently only &amp;lsquo;aurora&amp;rsquo; is supported as a value.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;engine_version&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The engine_version of the rds cluster.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(int) The port exposed by the rds cluster.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;This field must be between 1150 - 65535 (default: 3306).&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;public&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) Sets the rds cluster to be publicly accessible.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or alse. Default is false.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;availability_zones&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of strings. The availability zones to deploy the rds cluster to.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The availability zone must be in the same region as the vpc it is deployed to.&lt;/li&gt;
&lt;li&gt;If the rds cluster is set to private, there must be networks specified for each availability zone.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;security_groups&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of String&amp;rsquo;s that defines which security groups to apply to the rds cluster.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;This field must specify a security group that exists on the yaml.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;networks&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of String&amp;rsquo;s that defines which networks to expose the rds cluster to.&lt;/li&gt;
&lt;li&gt;This field not is mandatory (if public is set to true).&lt;/li&gt;
&lt;li&gt;This field must specify a security group that exists on the yaml.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;database_name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The database name of the rds cluster.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;database_username&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The database username of the rds cluster.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;database_username&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The database password of the rds cluster.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;maintenance_window&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The time period at which any maintenance tasks will occur.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;replication_source&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The target rds cluster or mysql instance to replicate from.&lt;/li&gt;
&lt;li&gt;Must be a valid ARN (Amazon Resource Name).&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html&#34;&gt;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;final_snapshot&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) Performs a final snapshot when the rds cluster is deleted.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or alse. Default is false.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;backups&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Backup configuration.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;window&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The time period at which backups will occur.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;retention&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(int) The amount of time in days that backups will be retained for.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Must be between 1 - 35 days&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;rds-instances&#34;&gt;RDS Instances&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;rds_instances:
  - name: rds-test-1
    size: db.r3.xlarge
    engine: mysql
    engine_version: 5.7
    port: 3306
    public: true
    multi_az: true
    storage:
      type: gp2
      size: 100
      iops: 5000
    auto_upgrade: true
    final_snapshot: true
    license: bring-your-own-license
    database_name: aurora-test
    database_username: username
    database_password: password
    backups:
      window: Mon:21:30-Mon:22:00
      rentention_period: 1
    maintenance_window: Mon:21:30-Mon:22:00
    final_snapshot: true
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;RDS Instances support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The name of the rds instance.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;engine&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The engine type of the rds instance.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;Currently only &amp;lsquo;aurora&amp;rsquo; is supported as a value.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;engine_version&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The engine_version of the rds instance.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(int) The port exposed by the rds instance.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;This field must be between 1150 - 65535 (default: 3306).&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;public&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) Sets the rds instance to be publicly accessible.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or alse. Default is false.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;multi_az&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) Deploys a synchronous standby instance in a different availability zone&lt;/li&gt;
&lt;li&gt;Cannot be used in conjunction with the &amp;lsquo;availability_zone&amp;rsquo; parameter&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or alse. Default is false.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;availability_zones&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of strings. The availability zones to deploy the rds instance to.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The availability zone must be in the same region as the vpc it is deployed to.&lt;/li&gt;
&lt;li&gt;If the rds instance is set to private, there must be networks specified for each availability zone.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;security_groups&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of String&amp;rsquo;s that defines which security groups to apply to the rds instance.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;This field must specify a security group that exists on the yaml.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;networks&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of String&amp;rsquo;s that defines which networks to expose the rds instance to.&lt;/li&gt;
&lt;li&gt;This field not is mandatory (if public is set to true).&lt;/li&gt;
&lt;li&gt;This field must specify a security group that exists on the yaml.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;database_name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The database name of the rds instance.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;database_username&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The database username of the rds instance.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;database_username&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The database password of the rds instance.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;maintenance_window&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The time period at which any maintenance tasks will occur.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;promotion_tier&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(int) specifies the order in which an aurora replica is promoted to a primary.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Must be between 1 - 15.&lt;/li&gt;
&lt;li&gt;Default is 1.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;auto_upgrade&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) Performs automatic upgrades on the database (minor versions only)&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or alse. Default is false.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;replication_source&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The target an rds instance to replicate from.&lt;/li&gt;
&lt;li&gt;Must be a valid ARN (Amazon Resource Name) or instance name (if in the same region).&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html&#34;&gt;http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;final_snapshot&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) Performs a final snapshot when the rds instance is deleted.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or alse. Default is false.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;license&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The type of license you want to use with the database&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Must be one of &amp;lsquo;license-included&amp;rsquo;, &amp;lsquo;bring-your-own-license&amp;rsquo; or &amp;lsquo;general-public-license&amp;rsquo;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;storage&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Storage configuration. Only configurable when using a non-aurora engine.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The type of storage you want to use.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Must be one of &amp;lsquo;gp2&amp;rsquo; (general purpose SSD), &amp;lsquo;io1&amp;rsquo; (performance optimised SSD) or &amp;lsquo;standard&amp;rsquo; (magnetic disk)&lt;/li&gt;
&lt;li&gt;If io1 is specified, you must also set the &amp;lsquo;iops&amp;rsquo; parameter&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;size&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(int) The amount of storage (GB) that you want to use.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Must be a value between 5 - 6144.&lt;/li&gt;
&lt;li&gt;Minimum size can vary between engine types.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;iops&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(int) The amount of iops that you want the database to be limited to.&lt;/li&gt;
&lt;li&gt;This field is mandatory if storage type is &amp;lsquo;io1&amp;rsquo;.&lt;/li&gt;
&lt;li&gt;This field must only be used in conjunction with &amp;lsquo;io1&amp;rsquo; as a storage type.&lt;/li&gt;
&lt;li&gt;Must be a multiple between 3 and 10 of the storage amount.&lt;/li&gt;
&lt;li&gt;Must also be an integer multiple of 1000.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;backups&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Backup configuration.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;window&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The time period at which backups will occur.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Format must be a range in the structure of DDD:HH::MM-DDD:HH::MM (Day:Hour:Minute)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;retention&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(int) The amount of time in days that backups will be retained for.&lt;/li&gt;
&lt;li&gt;This field is not mandatory.&lt;/li&gt;
&lt;li&gt;Must be between 1 - 35 days&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;ebs-volumes&#34;&gt;EBS Volumes&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt; ebs_volumes:
   - name: database-vol
     count: 1
     type: io1
     size: 100
     iops: 10000
     availability_zone: eu-west-1a
     encrypted: true
     encryption_key_id: kms-id
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The name of the ebs volume.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;count&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Integer that defines the number of volunes to be created.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field must be greater or equal that 1&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;type&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;(string) The type of storage you want to use.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field is not mandatory.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Must be one of &amp;lsquo;gp2&amp;rsquo; (general purpose SSD), &amp;lsquo;io1&amp;rsquo; (performance optimised SSD) or &amp;lsquo;st1&amp;rsquo; (magnetic disk)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;If io1 is specified, you must also set the &amp;lsquo;iops&amp;rsquo; parameter&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;size&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;(int) The amount of storage (GB) that you want to use.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field is not mandatory.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Must be a value between 1 - 16384. (may vary for different storage types)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;iops&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;(int) The amount of iops that you want the volume to be limited to.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field is mandatory if storage type is &amp;lsquo;io1&amp;rsquo;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;This field must only be used in conjunction with &amp;lsquo;io1&amp;rsquo; as a storage type.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Must be a multiple between 3 and 10 of the storage amount.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Must also be an integer multiple of 1000.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Must be a value between 100 - 20000&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;encrypted&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(boolean) Specifies whether the volume will be encrypted.&lt;/li&gt;
&lt;li&gt;This field not is mandatory.&lt;/li&gt;
&lt;li&gt;The value of this field can be true or false. Default is false.&lt;/li&gt;
&lt;li&gt;When enabling encryption, a kms key id must be provided&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;encryption_key_id&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(string) The kms key id to use when encrypting data on the volume.&lt;/li&gt;
&lt;li&gt;This field is mandatory, only if encryption is set to true.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;vcloud-director&#34;&gt;vCloud Director&lt;/h2&gt;

&lt;p&gt;vCloud Director (vCD) is cloud management tool from VMWare that acts as an overlay on top of vSphere, providing users with a self-service GUI and API. vCloud Director enables service providers to offer Infrastructure as a Service to their customers by providing users with direct control of virtual machine provisioning, and some aspects of networking.&lt;/p&gt;

&lt;h3 id=&#34;vcloud-limitations&#34;&gt;vCloud Limitations&lt;/h3&gt;

&lt;p&gt;With vCD most network functionality is delivered by the VMWare vShield Edge (vSE) virtual appliance. Unfortunately certain key network operations can only be performed by the service provider and are not available to users. They include:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;deploying a vSE&lt;/li&gt;
&lt;li&gt;connecting a vSE to an external network&lt;/li&gt;
&lt;li&gt;sub-allocating external IP addresses to a vSE&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All other common network operations are accesible to users, however many of them are limited to users with the &lt;a href=&#34;https://pubs.vmware.com/vca/index.jsp?topic=%2Fcom.vmware.vcloud.api.doc_56%2FGUID-BC504F6B-3D38-4F25-AACF-ED584063754F.html&#34;&gt;Organization Administrator&lt;/a&gt; role assigned to them.&lt;/p&gt;

&lt;h2 id=&#34;vcloud-director-examples&#34;&gt;vCloud Director Examples&lt;/h2&gt;

&lt;p&gt;If you would like to try Ernest but do not have access to vCloud you can request a demo vCloud account &lt;a href=&#34;http://docs.ernest.io/vcloud-account&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Before we get started we will need the following information:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Ernest IP address (10.50.0.11)&lt;/li&gt;
&lt;li&gt;Ernest username/password (user1/xxxxxx)&lt;/li&gt;
&lt;li&gt;vCloud URL (myvdc.carrenza.net)&lt;/li&gt;
&lt;li&gt;vCloud organisation (r3labs-development)&lt;/li&gt;
&lt;li&gt;vCloud datacenter (r3-jreid2)&lt;/li&gt;
&lt;li&gt;vCloud network (DVS-VCD-EXT-665)&lt;/li&gt;
&lt;li&gt;vCloud username/password (jreid/xxxxxx)&lt;/li&gt;
&lt;li&gt;vCloud router name (test2)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;The values in brackets are what we will use for this example. Your service provider can provide you with the vCloud information.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The first step is to set the IP address of Ernest:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest target https://10.50.0.11
Target set

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Next we login to Ernest:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest login
Username: user1
Password: ******
Welcome back user1

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Once we have logged in to Ernest we can setup the vCloud datacenter and credentials that Ernest will use to create our infrastructure:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest datacenter create vcloud --user jreid --password xxxxxx --org r3labs-development --vcloud-url https://myvdc.carrenza.net --public-network DVS-VCD-EXT-665 r3-jreid2
Datacenter &#39;r3-jreid2&#39; successfully created
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now that we have our datacenter created in Ernest we can start building stuff. Below we will show examples for:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;creating infrastructure only&lt;/li&gt;
&lt;li&gt;creating infrastructure and configuring the servers&lt;/li&gt;
&lt;li&gt;creating the servers only&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;infrastructure&#34;&gt;Infrastructure&lt;/h3&gt;

&lt;p&gt;For our example we will deploy a single Ubuntu server from a catalog image (image: r3/ubuntu-1404) and configure our networking to permit SSH access to the server. Our YAML for this example is:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
name: vcloud
datacenter: r3-jreid2

routers: 
  - name: test2
    rules:
    - name: in_out_any
      source: internal
      from_port: any
      destination: external
      to_port: any
      protocol: any
      action: allow

    - name: out_in_22
      source: any
      from_port: any
      destination: internal
      to_port: &#39;22&#39;
      protocol: tcp
      action: allow

    networks:
      - name: web
        subnet: 10.1.0.0/24

    port_forwarding:
      - source: 195.3.186.44
        from_port: &#39;22&#39;
        to_port: &#39;22&#39;
        destination: 10.1.0.11

instances:
  - name: web
    image: r3-ssd/ubuntu-1404
    cpus: 1
    memory: 1GB
    count: 1
    network: web
    start_ip: 10.1.0.11
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now that we have defined our infrastructure we are ready to apply our definition:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service apply demo1.yml
Environment creation requested
Ernest will show you all output from your requested service creation
You can cancel at any moment with Ctrl+C, even the service is still being created, you won&#39;t have any output
Applying you definition
 Configured Router test2
   Status    : completed
 Created Network web
   Subnet : 10.1.0.0/24
   Status : completed
 Created Instance web-1
   IP        : 10.1.0.11
   Status    : completed
SUCCESS: rules successfully applied
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Congratulations! You have built your first infrastructure with Ernest. You can now SSH to the server on IP 195.3.186.44 to install and configure your software.&lt;/p&gt;

&lt;p&gt;If you wish to change the infrastructure update your YAML to show how you want the infrastructure to look, then re-apply the YAML. Ernest will make the appropriate changes to the infrastructure.&lt;/p&gt;

&lt;p&gt;For example if we increase the &amp;lsquo;web&amp;rsquo; instance count from 1 to 2 and re-apply the YAML a new server is created:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service apply demo1.yml
Environment creation requested
Ernest will show you all output from your requested service creation
You can cancel at any moment with Ctrl+C, even the service is still being created, you won&#39;t have any output
Applying you definition
 Created Instance web-2
   IP        : 10.1.0.12
   Status    : completed
SUCCESS: rules successfully applied
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;We can list the services we created:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service list
+--------+--------+----------+-----------------------------+-------+
|  NAME  | STATUS | ENDPOINT |         LAST BUILD          | USER  |
+--------+--------+----------+-----------------------------+-------+
| vcloud | done   |          | 2017-04-17T13:14:28.499472Z | user1 |
+--------+--------+----------+-----------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For a given service we can see the history:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service history vcloud
+----+--------+----------+--------------------------------+-------+
| ID |  NAME  | BUILD ID |             STATUS             | USER  |
+----+--------+----------+--------------------------------+-------+
|  2 | vcloud | done     | 2017-04-17 13:14:28.499472     | user1 |
|    |        |          | +0000 UTC                      |       |
|  1 | vcloud | done     | 2017-04-17 13:08:47.075994     | user1 |
|    |        |          | +0000 UTC                      |       |
+----+--------+----------+--------------------------------+-------+
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For a given service and build ID we can see the definition we applied:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service definition vcloud --build 2
name: vcloud
datacenter: r3-jreid2
routers:
- name: test2
  rules:
  - name: in_out_any
    source: internal
    from_port: any
    destination: external
    to_port: any
    protocol: any
    action: allow
  - name: out_in_22
    source: any
    from_port: any
    destination: internal
    to_port: &amp;quot;22&amp;quot;
    protocol: tcp
    action: allow
  networks:
  - name: web
    subnet: 10.1.0.0/24
  port_forwarding:
  - source: 195.3.186.44
    from_port: &amp;quot;22&amp;quot;
    to_port: &amp;quot;22&amp;quot;
    destination: 10.1.0.11
instances:
- name: web
  image: r3-ssd/ubuntu-1404
  cpus: 1
  memory: 1GB
  count: 2
  network: web
  start_ip: 10.1.0.11
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;servers-only&#34;&gt;Servers Only&lt;/h3&gt;

&lt;p&gt;If your vCloud account does not have the Organization Administrator assigned to it most of the network related configuration in the above examples will be impossible. You will be limited to the creation and modification of virtual machines only. An example YAML for this scenario is:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;---
name: test
datacenter: r3-jreid2

instances:
  - name: dev
    image: r3-ssd/ubuntu-1404
    cpus: 1
    memory: 1GB
    count: 1
    network: web
    start_ip: 10.1.0.90
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And applying it gives:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ernest service apply test.yml
Environment creation requested
Ernest will show you all output from your requested service creation
You can cancel at any moment with Ctrl+C, even the service is still being created, you won&#39;t have any output
Applying you definition
 Created Instance dev-1
   IP        : 10.1.0.90
   Status    : completed
SUCCESS: rules successfully applied
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;vcloud-director-yaml-reference&#34;&gt;vCloud Director YAML Reference&lt;/h2&gt;

&lt;p&gt;Environments built and managed with Ernest are defined in YAML format.&lt;/p&gt;

&lt;h3 id=&#34;example-1&#34;&gt;Example&lt;/h3&gt;

&lt;pre&gt;&lt;code&gt;---
name: demo
datacenter: r3-jreid2
bootstrapping: salt
service_ip: 195.3.186.44
ernest_ip:
  - 31.210.240.161

routers:
  - name: demo
    rules:
    - name: in_out_any
      source: internal
      from_port: any
      destination: external
      to_port: any
      protocol: any
      action: allow

    - name: out_in_80
      source: any
      from_port: any
      destination: internal
      to_port: &#39;80&#39;
      protocol: tcp
      action: allow

    networks:
      - name: web
        subnet: 10.1.0.0/24
        dns:
          - 8.8.8.8
          - 8.8.4.4

    port_forwarding:
      - source: 195.3.186.44
        from_port: &#39;80&#39;
        to_port: &#39;80&#39;
        destination: 10.1.0.11

instances:
  - name: web
    image: r3/ubuntu-1404
    cpus: 1
    memory: 1GB
    disks:
     - 10GB
    root_disk: 32GB
    count: 1
    networks:
      name: web
      start_ip: 10.1.0.11
    provisioner:
      - exec:
        - &#39;sudo apt-get update&#39;
        - &#39;sudo apt-get install apache2 -y&#39;
      - shell:
        - #!/bin/sh
        - if [ x$1 == x&amp;quot;postcustomization&amp;quot; ]; then
        - yum -y install httpd
        - service httpd start
        - fi
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;field-reference-1&#34;&gt;Field Reference&lt;/h3&gt;

&lt;h4 id=&#34;service-options-1&#34;&gt;Service Options&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;name: demo
datacenter: r3-jreid2
bootstrapping: salt
service_ip: 195.3.186.44
ernest_ip:
  - 31.210.240.161
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Service Options support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the service to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;datacenter&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the datacenter where the service is built.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;bootstrapping&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String [salt, none] that defines if you’re going to be able to execute commands on the servers&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;This field defaults to none.&lt;/li&gt;
&lt;li&gt;The value of this is restricted to “salt” or “none”&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;service_ip&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the public ip of the router already created on vcloud&lt;/li&gt;
&lt;li&gt;This field is optional&lt;/li&gt;
&lt;li&gt;This field defaults to none.&lt;/li&gt;
&lt;li&gt;The value of this field is an IP, internally defined as &lt;a href=&#34;https://golang.org/pkg/net/#IP&#34;&gt;https://golang.org/pkg/net/#IP&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;ernest_ip&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of IPs that defines the ernest instance public ip, so it will be allowed through the created service firewall rules.&lt;/li&gt;
&lt;li&gt;The value of this field is an IP, internally defined as &lt;a href=&#34;https://golang.org/pkg/net/#IP&#34;&gt;https://golang.org/pkg/net/#IP&lt;/a&gt;&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;This field is mandatory only if you’ve defined bootstrapping as “salt”&lt;/li&gt;
&lt;li&gt;This field defaults to an empty array.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;networking-1&#34;&gt;Networking&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;routers:
  - name: demo
    rules:
    - name: in_out_any
      source: internal
      from_port: any
      destination: external
      to_port: any
      protocol: any
      action: allow

    - name: out_in_80
      source: any
      from_port: any
      destination: internal
      to_port: &#39;80&#39;
      protocol: tcp
      action: allow

    networks:
      - name: web
        subnet: 10.1.0.0/24
        dns:
          - 8.8.8.8
          - 8.8.4.4

    port_forwarding:
      - source: 195.3.186.44
        from_port: &#39;80&#39;
        to_port: &#39;80&#39;
        destination: 10.1.0.11
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Networking supports the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;name&lt;/strong&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the service to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;li&gt;The value of this field can be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;rules&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A firewall rule controls traffic that is allowed to flow between both internal and external routers and networks.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the rule.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field can’t be null or empty.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;source&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String the source of the network where this firewall acts&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: external | internal | any | named networks | CIDR&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;from_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Source port numbers&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be:  an string ( valid port number, 1 - 65535 ) or any&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;destination&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String the destination of the network where this firewall acts&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be:  external | internal | any | named networks | CIDR&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;to_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Destination port numbers&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be:  an string ( valid port number, 1 - 65535 ) or any&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;protocol&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String with the protocol we are firewalling&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;Values can be: tcp | udp | icmp | any | tcp &amp;amp; udp&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;networks&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A network is a virtual network that attaches to a router (in vcloud, other providers will differ). This is what allows us to network/isolate VM’s together.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the service to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;subnet&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of a network to add to this service.&lt;/li&gt;
&lt;li&gt;It must follow CIDR notation as described at: &lt;a href=&#34;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&#34;&gt;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique for this user &amp;amp; all the networks on the manifest.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;dns&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of IPs to use as dns servers on this service&lt;/li&gt;
&lt;li&gt;It must follow CIDR notation as described at: &lt;a href=&#34;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&#34;&gt;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;This field can be empty and it will default to [&amp;ldquo;8.8.8.8&amp;rdquo;, &amp;ldquo;8.8.4.4&amp;rdquo;].&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;port_forwarding&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;A port forward is something that converts translates a request on a port from one IP to another on a different network. Only tcp port forwarding is supported.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;from_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Source port numbers&lt;/li&gt;
&lt;li&gt;Values can be:  an string ( valid port number, 1 - 65535 ) or any&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;destination&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String the destination of the IPv4 Address to translate to&lt;/li&gt;
&lt;li&gt;Values can be: IPv4&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;to_port&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Destination port numbers&lt;/li&gt;
&lt;li&gt;Values can be:  an string ( valid port number, 1 - 65535 ) or any&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;source&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the IP from the provider-specified sub-allocated list of IPs of the router.&lt;/li&gt;
&lt;li&gt;It must follow CIDR notation as described at: &lt;a href=&#34;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&#34;&gt;https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;This field can be null or empty, in case a router is created by Ernest it will default to the created one, on the other hand this value will be used.&lt;/li&gt;
&lt;li&gt;This field must be unique for this user &amp;amp; all the networks on the manifest.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&#34;instances-1&#34;&gt;Instances&lt;/h4&gt;

&lt;pre&gt;&lt;code&gt;instances:
  - name: web
    image: r3/ubuntu-1404
    cpus: 1
    memory: 1GB
    disks:
     - 10GB
    root_disk: 32GB
    count: 1
    networks:
      name: web
      start_ip: 10.1.0.11
    provisioner:
      - exec:
        - &#39;sudo apt-get update&#39;
        - &#39;sudo apt-get install apache2 -y&#39;
      - shell:
        - #!/bin/sh
        - if [ x$1 == x&amp;quot;postcustomization&amp;quot; ]; then
        - yum -y install httpd
        - service httpd start
        - fi
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Instances support the following fields:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of the instance to build.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be unique by user &amp;amp; manifest.&lt;/li&gt;
&lt;li&gt;The value of this field must be 50 characters maximum.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;image&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of an image to install on the VM.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field is composed in two parts one for the “catalog” and another one for the “image” separated by a slash “/”&lt;/li&gt;
&lt;li&gt;Both “catalog” and “image” are strings and can’t be null.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;cpus&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Integer that defines how many CPUs will have the VM.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be greater or equal than 1&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;memory&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of a load balancer to add to this service.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must follow the Binary Prefix format: &lt;a href=&#34;https://en.wikipedia.org/wiki/Binary_prefix#Computer_memory&#34;&gt;https://en.wikipedia.org/wiki/Binary_prefix#Computer_memory&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The possible binary prefixes are MB, GB, TB, PB, YB&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;disks:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A list of sizes of hard disks that belongs to the VM&lt;/li&gt;
&lt;li&gt;This field can be an empty list&lt;/li&gt;
&lt;li&gt;This field is a list of strings&lt;/li&gt;
&lt;li&gt;Each element of the string must follow the Binary Prefix format: &lt;a href=&#34;https://en.wikipedia.org/wiki/Binary_prefix#Hard_disk_drives&#34;&gt;https://en.wikipedia.org/wiki/Binary_prefix#Hard_disk_drives&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The possible binary prefixes are MB, GB, TB, PB, YB&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;root_disk&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the root disk size of the template the instance is based on.&lt;/li&gt;
&lt;li&gt;This field is optional.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value must be larger than the default root disk size of the template.&lt;/li&gt;
&lt;li&gt;Each element of the string must follow the Binary Prefix format: &lt;a href=&#34;https://en.wikipedia.org/wiki/Binary_prefix#Hard_disk_drives&#34;&gt;https://en.wikipedia.org/wiki/Binary_prefix#Hard_disk_drives&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;The possible binary prefixes are MB, GB, TB, PB, YB&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;count&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Integer that defines the number of VM to be created.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be greater or equal that 1&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;networks&lt;/strong&gt;
Networks is a map with two fields&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;name&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the name of a network to attach this instance.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;The value of this field should exist on the networks section previously specified.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;start_ip&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;String that defines the starting IP to allocate the VMs to be built.&lt;/li&gt;
&lt;li&gt;This field is mandatory.&lt;/li&gt;
&lt;li&gt;This field cannot be null or empty.&lt;/li&gt;
&lt;li&gt;This field must be a valid IP.&lt;/li&gt;
&lt;li&gt;This IP should belong to the network already defined on the instance.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;provisioner&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Provisioner defines the available provisioner mechanisms.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;exec&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of strings, any command characters must be escaped with backslashes: (RFC7159, Section 7)&lt;/li&gt;
&lt;li&gt;Each command in the exec array is concatenated together and delimited by a semicolon.&lt;/li&gt;
&lt;li&gt;This field is optional&lt;/li&gt;
&lt;li&gt;If specified as a provisioner type, this array field must contain at least one element&lt;/li&gt;
&lt;li&gt;The specified commands will be executed by the SALT master.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;strong&gt;shell&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Array of strings, any command characters must be escaped with backslashes: (RFC7159, Section 7)&lt;/li&gt;
&lt;li&gt;Each command in the exec array is concatenated together and delimited by a semicolon.&lt;/li&gt;
&lt;li&gt;This field is optional&lt;/li&gt;
&lt;li&gt;If specified as a provisioner type, this array field must contain at least one element&lt;/li&gt;
&lt;li&gt;The specified commands will be executed by the vCloud guest customization script.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Downloads</title>
      <link>http://docs.ernest.io/downloads/</link>
      <pubDate>Wed, 09 Mar 2016 20:08:11 +0100</pubDate>
      
      <guid>http://docs.ernest.io/downloads/</guid>
      <description>

&lt;h2 id=&#34;get-ernest&#34;&gt;Get Ernest&lt;/h2&gt;

&lt;p&gt;Below are instructions for installing the latest stable release of Ernest (&lt;a href=&#34;https://github.com/ernestio/ernest/releases&#34;&gt;Release Notes&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Requirements: &lt;a href=&#34;https://docs.docker.com/engine/installation/&#34;&gt;Docker&lt;/a&gt;, &lt;a href=&#34;https://docs.docker.com/compose/install/&#34;&gt;Docker Compose&lt;/a&gt;, &lt;a href=&#34;https://www.openssl.org&#34;&gt;OpenSSL&lt;/a&gt;.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Clone the repo containing the Vagrantfile: &lt;code&gt;git clone https://github.com/ernestio/ernest.git&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Change to the cloned directory: &lt;code&gt;cd ernest&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Run the setup script: &lt;code&gt;./setup&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Enter the hostname, admin username, and admin password when prompted.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Once the container is up Ernest will be available on IP of the Docker host.&lt;/p&gt;

&lt;h2 id=&#34;get-ernest-cli&#34;&gt;Get Ernest CLI&lt;/h2&gt;

&lt;p&gt;The Ernest CLI is distributed as a binary package for all supported platforms and architectures. To install Ernest CLI, find the newest version of the &lt;a href=&#34;https://github.com/ErnestIO/ernest-cli/releases&#34;&gt;appropriate package&lt;/a&gt; for your system and download it.&lt;/p&gt;

&lt;p&gt;After downloading Ernest CLI, unzip it and move the binary to a directory that is on the PATH. See &lt;a href=&#34;http://stackoverflow.com/questions/14637979/how-to-permanently-set-path-on-linux&#34;&gt;this page&lt;/a&gt; for instructions on setting the PATH on Linux and Mac. See &lt;a href=&#34;http://stackoverflow.com/questions/1618280/where-can-i-set-path-to-make-exe-on-windows&#34;&gt;this&lt;/a&gt; page for instructions on setting the PATH in Windows.&lt;/p&gt;

&lt;h2 id=&#34;upgrade-ernest&#34;&gt;Upgrade Ernest&lt;/h2&gt;

&lt;h3 id=&#34;from-1-x-x-to-1-y-y&#34;&gt;From 1.x.x to 1.y.y&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Shutdown Ernest: &lt;code&gt;docker-compose down&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Pull down the latest version of Ernest: &lt;code&gt;git checkout docker-compose.yml &amp;amp;&amp;amp; git checkout config/nginx/ernest.local &amp;amp;&amp;amp; git checkout master &amp;amp;&amp;amp; git pull&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Run the setup script: &lt;code&gt;./setup&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;from-1-12-0-to-2-0-0&#34;&gt;From 1.12.0 to 2.0.0&lt;/h3&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;Ernest 2.0.0 introduces backwards incompatible changes to the internal naming structure for AWS environments. Therefore it is necessary to re-import your existing environments into Ernest once you have upgraded to 2.0.0.&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Shutdown Ernest: &lt;code&gt;docker-compose down&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Pull down the latest version of Ernest: &lt;code&gt;git checkout docker-compose.yml &amp;amp;&amp;amp; git checkout config/nginx/ernest.local &amp;amp;&amp;amp; git checkout master &amp;amp;&amp;amp; git pull&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Run the setup script: &lt;code&gt;./setup&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Reapply the datacenter credentials: &lt;code&gt;ernest datacenter update aws --access_key_id &amp;lt;access_key_id&amp;gt; --secret_access_key &amp;lt;secret_access_key&amp;gt; &amp;lt;dc_name&amp;gt;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;For internet gateways update the &amp;lsquo;Name&amp;rsquo; tag to match the &amp;lsquo;Name&amp;rsquo; tag of the VPC the gateway is attached to. Also add the &amp;lsquo;ernest.service&amp;rsquo; tag to the gateway with a value equal to the service name.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;For instances prepend the &amp;lsquo;ernest.instance_group&amp;rsquo; tag with &lt;code&gt;&amp;lt;dc_name&amp;gt;-&amp;lt;service_name&amp;gt;-&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;For volumes prepend the &amp;lsquo;ernest.volume_group&amp;rsquo; tag with &lt;code&gt;&amp;lt;dc_name&amp;gt;-&amp;lt;service_name&amp;gt;-&lt;/code&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Unregister each service from Ernest: &lt;code&gt;ernest service destroy &amp;lt;service_name&amp;gt; --force&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Import each service into Ernest: &lt;code&gt;ernest service import &amp;lt;dc_name&amp;gt; &amp;lt;service_name&amp;gt;&lt;/code&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Developer</title>
      <link>http://docs.ernest.io/developer/</link>
      <pubDate>Wed, 09 Mar 2016 20:10:46 +0100</pubDate>
      
      <guid>http://docs.ernest.io/developer/</guid>
      <description>

&lt;h2 id=&#34;architecture-overview&#34;&gt;Architecture overview&lt;/h2&gt;

&lt;p&gt;Ernest is based on a microservice oriented architecture. The majority of the services are built using Go, however we still need to maintain some jruby based in order to interact with vCloud.&lt;/p&gt;

&lt;h2 id=&#34;naming-conventions&#34;&gt;Naming conventions&lt;/h2&gt;

&lt;p&gt;In order to keep it clean there are some naming conventions you need to follow in order to understand Ernest&lt;/p&gt;

&lt;h3 id=&#34;service-naming&#34;&gt;Service Naming&lt;/h3&gt;

&lt;p&gt;Every service family follows an easy to understand naming convention.&lt;/p&gt;

&lt;h3 id=&#34;connectors&#34;&gt;Connectors&lt;/h3&gt;

&lt;p&gt;A connector name will look like component-action-provider-component.&lt;/p&gt;

&lt;p&gt;It is basically composed by some variable parts: - component : the component it represents: instances, networks, routers… - action : the action will implement: create, delete, update. Additionally you will find the action «all», which will represent is implementing all possible actions and component types. - provider : the provider is connecting to. AWS, vCloud…&lt;/p&gt;

&lt;h3 id=&#34;messages-naming&#34;&gt;Messages naming&lt;/h3&gt;

&lt;p&gt;All services on Ernest are communicating through &lt;a href=&#34;https://nats.io/documentation/concepts/nats-messaging/&#34;&gt;nats&lt;/a&gt; messages. There is a naming convention for any message on the platform, and you can find it in different forms:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;
&amp;lt;component&amp;gt;.&amp;lt;action&amp;gt;.&amp;lt;provider&amp;gt;

# They are sending the necessary info from the adapter to be processed by a specific connector.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;All these messages are replied with an appended «.done» or «.error» word to the subject, so the sender will know if the action was a success or a failure.&lt;/p&gt;

&lt;h1 id=&#34;component-message-structure&#34;&gt;Component Message structure&lt;/h1&gt;

&lt;p&gt;There are a number of internal fields used by components (always prefixed with &lt;code&gt;_&lt;/code&gt;) that must be present:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;_action&lt;/code&gt;:  The action required by the component. This can be one of &lt;code&gt;create&lt;/code&gt;, &lt;code&gt;update&lt;/code&gt;, &lt;code&gt;delete&lt;/code&gt;, &lt;code&gt;find&lt;/code&gt; or &lt;code&gt;get&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_component&lt;/code&gt;:  The component type, i.e. &lt;code&gt;instance&lt;/code&gt;, &lt;code&gt;network&lt;/code&gt;, &lt;code&gt;firewall&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_component_id&lt;/code&gt;:  The composite ID of the component. This is constructed by a components type and its name, i.e. &lt;code&gt;instance::web-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_provider&lt;/code&gt;:  The type of provider that the component will be provisioned on.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;_state&lt;/code&gt;:  The current state of the component. Can be one of &lt;code&gt;errored&lt;/code&gt;, &lt;code&gt;waiting&lt;/code&gt;, &lt;code&gt;running&lt;/code&gt;, &lt;code&gt;completed&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These fields are leveraged by scheduler to construct the omitted event subject.&lt;/p&gt;

&lt;h2 id=&#34;service-structure&#34;&gt;Service structure&lt;/h2&gt;

&lt;p&gt;The microservices can be categorized into different families:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The Public family holds every service with a public or private interface intended to be used by the end user [Api Gateway, Monit, Logger].&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Data stores are a crud over nats interface to interact with persistent data.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Definition Mapper maps the input yaml on a valid internal mapping.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The Scheduler takes care of processing the necessary steps to build a service.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Connectors are connecting Ernest with third party providers in order to process a component.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We group these families into:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Frontend (Public + Stores)&lt;/li&gt;
&lt;li&gt;Backend (Mapper + Core + Connectors)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;public&#34;&gt;Public&lt;/h2&gt;

&lt;h3 id=&#34;api-gateway&#34;&gt;API Gateway&lt;/h3&gt;

&lt;p&gt;The api-gateway is exposing a public REST api, locked with JWT authentication, so every authenticated user can interact with its endpoints.&lt;/p&gt;

&lt;h3 id=&#34;monit&#34;&gt;Monit&lt;/h3&gt;

&lt;p&gt;This service is sending real time information about service creation to the end user by keeping a stream open with the client.&lt;/p&gt;

&lt;p&gt;It is catching all internal messages and decides which ones will fire a new message through the stream&lt;/p&gt;

&lt;p&gt;It exposes data streams through SSE(Server Side Events).&lt;/p&gt;

&lt;h3 id=&#34;logger&#34;&gt;Logger&lt;/h3&gt;

&lt;p&gt;Logger is listening at all events on the message bus and ofuscating sensible data and sending it to a third party logger system.&lt;/p&gt;

&lt;h2 id=&#34;data-stores&#34;&gt;Data stores&lt;/h2&gt;

&lt;p&gt;Microservices in this family are an interface to interact with persistent data. So you can query stored data through nats with messages including:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;entity.get
entity.find
entity.del
entity.set
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There is a microservice for each entity on the system:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;datacenter-store

#Implements a nats interface to operate with datacenter stored data

user-store

#Will open a nats interface to operate with user stored data. Additionally it will manage all user sensible data encryption.

service-store

#Implements a nats interface to operate with service stored data

config-store

#Implements a nats interface to operate with system configuration, this configuration is based on a configuration file deployed on Ernest creation.

group-store

#Implements a nats interface to operate with groups stored data. System authorization levels are based on these groups
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;definition-mapper&#34;&gt;Definition mapper&lt;/h2&gt;

&lt;p&gt;Definition mapper maps your input yaml/json file on to a valid internal struct at the time they do an initial validation.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;definition-mapper

#Validates and maps the provider specific yaml input to a valid internal service mapping. It&#39;s also is responsible for converting the internal mapping back to an input yaml when importing.
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;scheduler&#34;&gt;Scheduler&lt;/h2&gt;

&lt;p&gt;Scheduler is a service to process actions associated with a given environment and it&amp;rsquo;s components. It runs on top of nats.io.&lt;/p&gt;

&lt;p&gt;Scheduler provides several key features:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Dependency graph scheduling. Each component is scheduled based on its relation to other components and allows independant components to be provisioned in parallel.&lt;/li&gt;
&lt;li&gt;Templating: You can use the templating system to fill some component details with other component properties.&lt;/li&gt;
&lt;li&gt;External persistence: Scheduler will call an external service to persist the current state of the service build and its components.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;quick-start&#34;&gt;Quick start&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;#Install with git
git clone git@github.com:ernestio/scheduler.git

make deps &amp;amp;&amp;amp; make install

scheduler
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;running-tests&#34;&gt;Running tests&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-sh&#34;&gt;make dev-deps &amp;amp;&amp;amp; make test
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;operation&#34;&gt;Operation&lt;/h3&gt;

&lt;p&gt;The scheduler will send a &lt;code&gt;components.verb.provider&lt;/code&gt; for component. The order is defined by the dependencies specified on &lt;code&gt;edges&lt;/code&gt; and will wait for &lt;code&gt;component.verb.provider.status&lt;/code&gt;, where status can be &lt;code&gt;done&lt;/code&gt; or &lt;code&gt;error&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;When a completed component event is received, the latest service mapping is retrieved from service store. The state of the component is then updated in both &lt;code&gt;changes&lt;/code&gt; and &lt;code&gt;components&lt;/code&gt;. The graph is then inspected for all dependants of the completed component. These dependant components are then scheduled when all of its dependencies are satisfied.&lt;/p&gt;

&lt;p&gt;If an errored component is received, scheduler will wait for all other in flight components to complete before sending an error back to the user. No other components will be sent in this errored state.&lt;/p&gt;

&lt;p&gt;The graph library utilised by the scheduler can be found at &lt;a href=&#34;https://github.com/r3labs/graph&#34;&gt;graph library&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&#34;external-dependencies&#34;&gt;External Dependencies&lt;/h3&gt;

&lt;p&gt;As scheduler does not provide any persistence system; it directly depends on service-store, and its communication is accomplished through nats.io.&lt;/p&gt;

&lt;h3 id=&#34;input-mapping&#34;&gt;Input Mapping&lt;/h3&gt;

&lt;p&gt;The input mapping defines the steps a scheduler must take to complete a build. The required fields for each component are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;id&lt;/code&gt;: The id of the service being provisioned.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;action&lt;/code&gt;: The action of the service&lt;/li&gt;
&lt;li&gt;&lt;code&gt;edges&lt;/code&gt;: The edges define the directed connection between components, as defined by a &lt;code&gt;source&lt;/code&gt; and a &lt;code&gt;destination&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;components&lt;/code&gt;: This collection of components represents the &lt;em&gt;current&lt;/em&gt; state of the service.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;changes&lt;/code&gt;: This collection of components represents the &lt;em&gt;desired&lt;/em&gt; state of the service.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This output is generated by defintion-mapper with execution ordering and dependencies configured before being sent to scheduler.&lt;/p&gt;

&lt;p&gt;An example of the input json to scheduler:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-json&#34;&gt;{
    &amp;quot;id&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
    &amp;quot;action&amp;quot;: &amp;quot;service.delete&amp;quot;,
    &amp;quot;edges&amp;quot;: [
        {
            &amp;quot;destination&amp;quot;: &amp;quot;vpc::test-vpc&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;internet_gateway::test-vpc&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;vpc::test-vpc&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;firewall::test-vm&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;internet_gateway::test-vpc&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;network::test-dmz&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;vpc::test-vpc&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;firewall::test-elb&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;firewall::test-vm&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;instance::test-web-1&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;network::test-dmz&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;instance::test-web-1&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;firewall::test-elb&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;elb::test-elb&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;network::test-dmz&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;elb::test-elb&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;instance::test-web-1&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;elb::test-elb&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;end&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;vpc::test-vpc&amp;quot;
        },
        {
            &amp;quot;destination&amp;quot;: &amp;quot;elb::test-elb&amp;quot;,
            &amp;quot;length&amp;quot;: 1,
            &amp;quot;source&amp;quot;: &amp;quot;start&amp;quot;
        }
    ],
    &amp;quot;components&amp;quot;: [
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;vpc&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;vpc::test-vpc&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;waiting&amp;quot;,
            &amp;quot;auto_remove&amp;quot;: true,
            &amp;quot;name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;subnet&amp;quot;: &amp;quot;10.0.0.0/16&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;vpc_aws_id&amp;quot;: &amp;quot;vpc-00000000&amp;quot;
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;internet_gateway&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;internet_gateway::test-vpc&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;waiting&amp;quot;,
            &amp;quot;internet_gateway_aws_id&amp;quot;: &amp;quot;igw-00000000&amp;quot;,
            &amp;quot;name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;vpc&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;vpc_id&amp;quot;: &amp;quot;vpc-00000000&amp;quot;
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;none&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;credentials&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;credentials::aws&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;waiting&amp;quot;,
            &amp;quot;name&amp;quot;: &amp;quot;test-aws&amp;quot;,
            &amp;quot;region&amp;quot;: &amp;quot;eu-west-1&amp;quot;
        }
    ],
    &amp;quot;changes&amp;quot;: [
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;vpc&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;vpc::test-vpc&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;waiting&amp;quot;,
            &amp;quot;auto_remove&amp;quot;: true,
            &amp;quot;name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;subnet&amp;quot;: &amp;quot;10.0.0.0/16&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;vpc_aws_id&amp;quot;: &amp;quot;vpc-00000000&amp;quot;
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;internet_gateway&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;internet_gateway::test-vpc&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;running&amp;quot;,
            &amp;quot;internet_gateway_aws_id&amp;quot;: &amp;quot;igw-00000000&amp;quot;,
            &amp;quot;name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-vpc&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;vpc&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;vpc_id&amp;quot;: &amp;quot;vpc-00000000&amp;quot;
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;firewall&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;firewall::test-vm&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;completed&amp;quot;,
            &amp;quot;name&amp;quot;: &amp;quot;test-vm&amp;quot;,
            &amp;quot;network_aws_id&amp;quot;: null,
            &amp;quot;rules&amp;quot;: {
                &amp;quot;egress&amp;quot;: [
                    {
                        &amp;quot;from_port&amp;quot;: 0,
                        &amp;quot;ip&amp;quot;: &amp;quot;0.0.0.0/0&amp;quot;,
                        &amp;quot;protocol&amp;quot;: &amp;quot;-1&amp;quot;,
                        &amp;quot;to_port&amp;quot;: 65535
                    }
                ],
                &amp;quot;ingress&amp;quot;: [
                    {
                        &amp;quot;from_port&amp;quot;: 0,
                        &amp;quot;ip&amp;quot;: &amp;quot;10.0.0.0/16&amp;quot;,
                        &amp;quot;protocol&amp;quot;: &amp;quot;tcp&amp;quot;,
                        &amp;quot;to_port&amp;quot;: 65535
                    }
                ]
            },
            &amp;quot;security_group_aws_id&amp;quot;: &amp;quot;sg-00000000&amp;quot;,
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-vm&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;vpc&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;vpc_id&amp;quot;: &amp;quot;vpc-00000000&amp;quot;
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;network&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;network::test-dmz&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;completed&amp;quot;,
            &amp;quot;availability_zone&amp;quot;: &amp;quot;eu-west-1a&amp;quot;,        
            &amp;quot;internet_gateway&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;internet_gateway_aws_id&amp;quot;: &amp;quot;igw-00000000&amp;quot;,
            &amp;quot;is_public&amp;quot;: true,
            &amp;quot;name&amp;quot;: &amp;quot;test-dmz&amp;quot;,
            &amp;quot;network_aws_id&amp;quot;: &amp;quot;subnet-00000000&amp;quot;,
            &amp;quot;range&amp;quot;: &amp;quot;10.0.11.0/24&amp;quot;,
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-dmz&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;vpc&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;vpc_id&amp;quot;: &amp;quot;vpc-00000000&amp;quot;
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;firewall&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;firewall::test-elb&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;completed&amp;quot;,
            &amp;quot;name&amp;quot;: &amp;quot;test-elb&amp;quot;,
            &amp;quot;network_aws_id&amp;quot;: null,
            &amp;quot;rules&amp;quot;: {
                &amp;quot;egress&amp;quot;: [
                    {
                        &amp;quot;from_port&amp;quot;: 0,
                        &amp;quot;ip&amp;quot;: &amp;quot;0.0.0.0/0&amp;quot;,
                        &amp;quot;protocol&amp;quot;: &amp;quot;-1&amp;quot;,
                        &amp;quot;to_port&amp;quot;: 65535
                    }
                ],
                &amp;quot;ingress&amp;quot;: [
                    {
                        &amp;quot;from_port&amp;quot;: 0,
                        &amp;quot;ip&amp;quot;: &amp;quot;10.0.0.0/16&amp;quot;,
                        &amp;quot;protocol&amp;quot;: &amp;quot;tcp&amp;quot;,
                        &amp;quot;to_port&amp;quot;: 65535
                    },
                    {
                        &amp;quot;from_port&amp;quot;: 80,
                        &amp;quot;ip&amp;quot;: &amp;quot;0.0.0.0/0&amp;quot;,
                        &amp;quot;protocol&amp;quot;: &amp;quot;tcp&amp;quot;,
                        &amp;quot;to_port&amp;quot;: 80
                    }
                ]
            },
            &amp;quot;security_group_aws_id&amp;quot;: &amp;quot;sg-00000000&amp;quot;,
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-elb&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;vpc&amp;quot;: &amp;quot;test-vpc&amp;quot;,
            &amp;quot;vpc_id&amp;quot;: &amp;quot;vpc-00000000&amp;quot;
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;instance&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;instance::test-web-1&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;completed&amp;quot;,
            &amp;quot;assign_elastic_ip&amp;quot;: false,    
            &amp;quot;elastic_ip&amp;quot;: &amp;quot;&amp;quot;,
            &amp;quot;image&amp;quot;: &amp;quot;ami-ed82e39e&amp;quot;,
            &amp;quot;instance_aws_id&amp;quot;: &amp;quot;i-00000000000000000&amp;quot;,
            &amp;quot;instance_type&amp;quot;: &amp;quot;t2.micro&amp;quot;,
            &amp;quot;ip&amp;quot;: &amp;quot;10.0.11.11&amp;quot;,
            &amp;quot;key_pair&amp;quot;: &amp;quot;test&amp;quot;,
            &amp;quot;name&amp;quot;: &amp;quot;test-web-1&amp;quot;,
            &amp;quot;network_aws_id&amp;quot;: &amp;quot;subnet-00000000&amp;quot;,
            &amp;quot;network_is_public&amp;quot;: false,
            &amp;quot;network_name&amp;quot;: &amp;quot;test-dmz&amp;quot;,
            &amp;quot;public_ip&amp;quot;: &amp;quot;52.48.98.107&amp;quot;,
            &amp;quot;security_group_aws_ids&amp;quot;: [
                &amp;quot;sg-00000000&amp;quot;
            ],
            &amp;quot;security_groups&amp;quot;: [
                &amp;quot;test-vm&amp;quot;
            ],
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;Name&amp;quot;: &amp;quot;test-web-1&amp;quot;,
                &amp;quot;ernest.instance_group&amp;quot;: &amp;quot;test-web&amp;quot;,
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            },
            &amp;quot;user_data&amp;quot;: &amp;quot;&amp;quot;,
            &amp;quot;volumes&amp;quot;: null
        },
        {
            &amp;quot;_action&amp;quot;: &amp;quot;delete&amp;quot;,
            &amp;quot;_component&amp;quot;: &amp;quot;elb&amp;quot;,
            &amp;quot;_component_id&amp;quot;: &amp;quot;elb::test-elb&amp;quot;,
            &amp;quot;_provider&amp;quot;: &amp;quot;aws&amp;quot;,
            &amp;quot;_state&amp;quot;: &amp;quot;completed&amp;quot;,
            &amp;quot;dns_name&amp;quot;: &amp;quot;test-elb-1103626973.eu-west-1.elb.amazonaws.com&amp;quot;,
            &amp;quot;instance_aws_ids&amp;quot;: [
                &amp;quot;i-00000000000000000&amp;quot;
            ],
            &amp;quot;instance_names&amp;quot;: [
                &amp;quot;test-web-1&amp;quot;
            ],
            &amp;quot;instances&amp;quot;: [
                &amp;quot;test-web&amp;quot;
            ],
            &amp;quot;is_private&amp;quot;: false,
            &amp;quot;listeners&amp;quot;: [
                {
                    &amp;quot;from_port&amp;quot;: 80,
                    &amp;quot;protocol&amp;quot;: &amp;quot;HTTP&amp;quot;,
                    &amp;quot;ssl_cert&amp;quot;: &amp;quot;&amp;quot;,
                    &amp;quot;to_port&amp;quot;: 80
                }
            ],
            &amp;quot;name&amp;quot;: &amp;quot;test-elb&amp;quot;,
            &amp;quot;network_aws_ids&amp;quot;: [
                &amp;quot;subnet-00000000&amp;quot;
            ],
            &amp;quot;networks&amp;quot;: [
                &amp;quot;test-dmz&amp;quot;
            ],
            &amp;quot;security_group_aws_ids&amp;quot;: [
                &amp;quot;sg-00000000&amp;quot;
            ],
            &amp;quot;security_groups&amp;quot;: [
                &amp;quot;test-elb&amp;quot;
            ],
            &amp;quot;service&amp;quot;: &amp;quot;test-generated-id&amp;quot;,
            &amp;quot;tags&amp;quot;: {
                &amp;quot;ernest.service&amp;quot;: &amp;quot;test&amp;quot;
            }
        }
    ]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You will find a more up to date documentation on the repo &lt;a href=&#34;https://github.com/ernestio/scheduler/blob/develop/README.md&#34;&gt;README&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;connectors-1&#34;&gt;Connectors&lt;/h2&gt;

&lt;p&gt;A connector is a service which is directly interacting with the provider in order to process (get, create, update or delete) a component on the provider.&lt;/p&gt;

&lt;h2 id=&#34;testing&#34;&gt;Testing&lt;/h2&gt;

&lt;h3 id=&#34;unit-testing&#34;&gt;Unit testing&lt;/h3&gt;

&lt;p&gt;Each service has its own test suite (per-service tests) based uniquely on how the specific service behaves.&lt;/p&gt;

&lt;h3 id=&#34;bdd-tests&#34;&gt;BDD tests&lt;/h3&gt;

&lt;p&gt;In order to test, and keep a live documentation of ernest-cli, we have implemented some end to end tests using &lt;a href=&#34;https://github.com/gucumber/gucumber&#34;&gt;gucumber&lt;/a&gt; and &lt;a href=&#34;https://github.com/cucumber/cucumber/wiki/Gherkin&#34;&gt;gherkin&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You can find the features definitions describing ernest behaviour &lt;a href=&#34;https://github.com/ernestio/ernest-cli/tree/develop/internal/features/cli&#34;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;integration-tests&#34;&gt;Integration tests&lt;/h3&gt;

&lt;p&gt;As Ernest is a distributed system, it’s sometimes hard to have integration tests. This is why some key services have integration tests and per service tests.&lt;/p&gt;

&lt;p&gt;These integration tests are building a partial Ernest environment with docker-compose, but they’re mocking all connectors with all-all-fake-connector which responds with what’s expected by the connectors.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Community</title>
      <link>http://docs.ernest.io/community/</link>
      <pubDate>Wed, 09 Mar 2016 19:56:50 +0100</pubDate>
      
      <guid>http://docs.ernest.io/community/</guid>
      <description>

&lt;h2 id=&#34;discuss&#34;&gt;Discuss&lt;/h2&gt;

&lt;p&gt;To discuss all things Ernest with other members of the community:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;join the Ernest &lt;a href=&#34;http://docs.ernest.io/slack&#34;&gt;Slack channel&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;join the Ernest &lt;a href=&#34;https://groups.google.com/forum/#!forum/ernestio&#34;&gt;Google Group&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;contribute&#34;&gt;Contribute&lt;/h2&gt;

&lt;p&gt;Ernest, the Ernest CLI, the VSE Creator Service, and the Ernest Site (this website) are all open source projects under the &lt;a href=&#34;http://docs.ernest.io/license/&#34;&gt;Mozilla Public License v2.0&lt;/a&gt;. If you would like to help us improve these projects you can do so here:&lt;/p&gt;

&lt;table align=&#34;left&#34;&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&#34;center&#34;&gt;Project Name&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Contribute Code&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Request a Feature&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Report a Bug&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Ernest&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest&#34; target=&#34;_blank&#34;&gt;GitHub&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest/issues&#34; target=&#34;_blank&#34;&gt;GitHub Issue&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest/issues&#34; target=&#34;_blank&#34;&gt;GitHub Issue&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Ernest CLI&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest-cli&#34; target=&#34;_blank&#34;&gt;GitHub&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest-cli/issues&#34; target=&#34;_blank&#34;&gt;GitHub Issue&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest-cli/issues&#34; target=&#34;_blank&#34;&gt;GitHub Issue&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td align=&#34;center&#34;&gt;Ernest Site&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest-site&#34; target=&#34;_blank&#34;&gt;GitHub&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest-site/issues&#34; target=&#34;_blank&#34;&gt;GitHub Issue&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;https://github.com/ernestio/ernest-site/issues&#34; target=&#34;_blank&#34;&gt;GitHub Issue&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&#34;social&#34;&gt;Social&lt;/h2&gt;

&lt;p&gt;Follow us on &lt;a href=&#34;https://twitter.com/r3labs&#34;&gt;Twitter&lt;/a&gt; and &lt;a href=&#34;https://www.facebook.com/r3labsio/&#34;&gt;Facebook&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;code-of-conduct&#34;&gt;Code of conduct&lt;/h2&gt;

&lt;p&gt;This code of conduct outlines our expectations for participants within the Ernest community, as well as steps to reporting unacceptable behavior. We are committed to providing a welcoming and inspiring community for all and expect our code of conduct to be honored. Anyone who violates this code of conduct may be banned from the community.&lt;/p&gt;

&lt;p&gt;Our open source community strives to:&lt;/p&gt;

&lt;h3 id=&#34;be-friendly-and-patient&#34;&gt;Be friendly and patient.&lt;/h3&gt;

&lt;h3 id=&#34;be-welcoming&#34;&gt;Be welcoming:&lt;/h3&gt;

&lt;p&gt;We strive to be a community that welcomes and supports people of all backgrounds and identities. This includes, but is not limited to members of any race, ethnicity, culture, national origin, colour, immigration status, social and economic class, educational level, sex, sexual orientation, gender identity and expression, age, size, family status, political belief, religion, and mental and physical ability.&lt;/p&gt;

&lt;h3 id=&#34;be-considerate&#34;&gt;Be considerate:&lt;/h3&gt;

&lt;p&gt;Your work will be used by other people, and you in turn will depend on the work of others. Any decision you take will affect users and colleagues, and you should take those consequences into account when making decisions. Remember that we’re a world-wide community, so you might not be communicating in someone else’s primary language.&lt;/p&gt;

&lt;h3 id=&#34;be-respectful&#34;&gt;Be respectful:&lt;/h3&gt;

&lt;p&gt;Not all of us will agree all the time, but disagreement is no excuse for poor behavior and poor manners. We might all experience some frustration now and then, but we cannot allow that frustration to turn into a personal attack. It’s important to remember that a community where people feel uncomfortable or threatened is not a productive one.&lt;/p&gt;

&lt;h3 id=&#34;be-careful-in-the-words-that-we-choose&#34;&gt;Be careful in the words that we choose:&lt;/h3&gt;

&lt;p&gt;We are a community of professionals, and we conduct ourselves professionally. Be kind to others. Do not insult or put down other participants. Harassment and other exclusionary behavior aren’t acceptable.&lt;/p&gt;

&lt;h3 id=&#34;try-to-understand-why-we-disagree&#34;&gt;Try to understand why we disagree:&lt;/h3&gt;

&lt;p&gt;Disagreements, both social and technical, happen all the time. It is important that we resolve disagreements and differing views constructively. Remember that we’re different. The strength of our community comes from its diversity, people from a wide range of backgrounds. Different people have different perspectives on issues. Being unable to understand why someone holds a viewpoint doesn’t mean that they’re wrong. Don’t forget that it is human to err and blaming each other doesn’t get us anywhere. Instead, focus on helping to resolve issues and learning from mistakes.&lt;/p&gt;

&lt;h3 id=&#34;definitions&#34;&gt;Definitions&lt;/h3&gt;

&lt;p&gt;Harassment includes, but is not limited to:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Offensive comments related to gender, gender identity and expression, sexual orientation, disability, mental illness, neuro(a)typicality, physical appearance, body size, race, age, regional discrimination, political or religious affiliation&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Unwelcome comments regarding a person’s lifestyle choices and practices, including those related to food, health, parenting, drugs, and employment&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Deliberate misgendering. This includes deadnaming or persistently using a pronoun that does not correctly reflect a person’s gender identity. You must address people by the name they give you when not addressing them by their username or handle&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Physical contact and simulated physical contact (eg, textual descriptions like “hug” or “backrub”) without consent or after a request to stop&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Threats of violence, both physical and psychological&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Incitement of violence towards any individual, including encouraging a person to commit suicide or to engage in self-harm&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Deliberate intimidation&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Stalking or following&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Harassing photography or recording, including logging online activity for harassment purposes&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Sustained disruption of discussion&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Unwelcome sexual attention, including gratuitous or off-topic sexual images or behaviour&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Pattern of inappropriate social contact, such as requesting/assuming inappropriate levels of intimacy with others&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Continued one-on-one communication after requests to cease&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Deliberate “outing” of any aspect of a person’s identity without their consent except as necessary to protect others from intentional abuse&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Publication of non-harassing private communication&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Our open source community prioritizes marginalized people’s safety over privileged people’s comfort. We will not act on complaints regarding:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;‘Reverse’ -isms, including ‘reverse racism,’ ‘reverse sexism,’ and ‘cisphobia’&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Reasonable communication of boundaries, such as “leave me alone,” “go away,” or “I’m not discussing this with you”&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Refusal to explain or debate social justice concepts&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Communicating in a ‘tone’ you don’t find congenial&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Criticizing racist, sexist, cissexist, or otherwise oppressive behavior or assumptions&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;diversity-statement&#34;&gt;Diversity Statement&lt;/h2&gt;

&lt;p&gt;We encourage everyone to participate and are committed to building a community for all. Although we will fail at times, we seek to treat everyone both as fairly and equally as possible. Whenever a participant has made a mistake, we expect them to take responsibility for it. If someone has been harmed or offended, it is our responsibility to listen carefully and respectfully, and do our best to right the wrong.&lt;/p&gt;

&lt;p&gt;Although this list cannot be exhaustive, we explicitly honor diversity in age, gender, gender identity or expression, culture, ethnicity, language, national origin, political beliefs, profession, race, religion, sexual orientation, socioeconomic status, and technical ability. We will not tolerate discrimination based on any of the protected characteristics above, including participants with disabilities.&lt;/p&gt;

&lt;h2 id=&#34;reporting-issues&#34;&gt;Reporting Issues&lt;/h2&gt;

&lt;p&gt;If you experience or witness unacceptable behavior—or have any other concerns—please report it by contacting us via codeofconduct@r3labs.io. All reports will be handled with discretion. In your report please include:&lt;/p&gt;

&lt;h3 id=&#34;your-contact-information&#34;&gt;Your contact information.&lt;/h3&gt;

&lt;p&gt;Names (real, nicknames, or pseudonyms) of any individuals involved. If there are additional witnesses, please include them as well. Your account of what occurred, and if you believe the incident is ongoing. If there is a publicly available record (e.g. a mailing list archive or a Slack channel history), please include a link.&lt;/p&gt;

&lt;p&gt;Any additional information that may be helpful.&lt;/p&gt;

&lt;p&gt;After filing a report, a representative will contact you personally, review the incident, follow up with any additional questions, and make a decision as to how to respond. If the person who is harassing you is part of the response team, they will recuse themselves from handling your incident. If the complaint originates from a member of the response team, it will be handled by a different member of the response team. We will respect confidentiality requests for the purpose of protecting victims of abuse.&lt;/p&gt;

&lt;h3 id=&#34;thanks&#34;&gt;Thanks&lt;/h3&gt;

&lt;p&gt;This code of conduct is based on the &lt;a href=&#34;https://github.com/todogroup/opencodeofconduct&#34;&gt;Open Code of Conduct v1.0&lt;/a&gt; from the &lt;a href=&#34;http://todogroup.org&#34;&gt;TODOGroup&lt;/a&gt;. We are thankful for their work and the work of all the communities who have paved the way with their codes of conduct.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Support</title>
      <link>http://docs.ernest.io/support/</link>
      <pubDate>Wed, 09 Mar 2016 20:08:11 +0100</pubDate>
      
      <guid>http://docs.ernest.io/support/</guid>
      <description>&lt;p&gt;R3 Labs offer two support plans for Ernest:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Standard&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;Premium&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Contract Type&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Annual subscription&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Annual subscription&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Access to a technical support website&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Maintenance and upgrades&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Web support (email/chat) during standard business hours (9:00AM – 5:00 PM CET)&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Maximum number of designated contacts&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;3&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Feature priorities&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Prioritized issue resolution&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&amp;#x25cf;&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Response time on non-critical issues&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Best effort&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Within 8 business hours&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Response time on critical issues**&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Within 8 business hours&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;Within 4 hours&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;Pricing&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;http://docs.ernest.io/supportplan&#34;&gt;Contact us&lt;/a&gt;&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;&lt;a href=&#34;http://docs.ernest.io/supportplan&#34;&gt;Contact us&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;small&gt;**A ‘Critical Issue’ is defined as a system down that impacts your use of Ernest in a production environment. There is no viable workaround, and business is severely impacted.&lt;/small&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Mozilla Public License Version 2.0</title>
      <link>http://docs.ernest.io/license/</link>
      <pubDate>Wed, 09 Mar 2016 19:56:50 +0100</pubDate>
      
      <guid>http://docs.ernest.io/license/</guid>
      <description>

&lt;h2 id=&#34;1-definitions&#34;&gt;1. Definitions&lt;/h2&gt;

&lt;h3 id=&#34;1-1-contributor&#34;&gt;1.1. “Contributor”&lt;/h3&gt;

&lt;p&gt;means each individual or legal entity that creates, contributes to the creation of, or owns Covered Software.&lt;/p&gt;

&lt;h3 id=&#34;1-2-contributor-version&#34;&gt;1.2. “Contributor Version”&lt;/h3&gt;

&lt;p&gt;means the combination of the Contributions of others (if any) used by a Contributor and that particular Contributor’s Contribution.&lt;/p&gt;

&lt;h3 id=&#34;1-3-contribution&#34;&gt;1.3. “Contribution”&lt;/h3&gt;

&lt;p&gt;means Covered Software of a particular Contributor.&lt;/p&gt;

&lt;h3 id=&#34;1-4-covered-software&#34;&gt;1.4. “Covered Software”&lt;/h3&gt;

&lt;p&gt;means Source Code Form to which the initial Contributor has attached the notice in Exhibit A, the Executable Form of such Source Code Form, and Modifications of such Source Code Form, in each case including portions thereof.&lt;/p&gt;

&lt;h3 id=&#34;1-5-incompatible-with-secondary-licenses&#34;&gt;1.5. “Incompatible With Secondary Licenses”&lt;/h3&gt;

&lt;p&gt;means&lt;/p&gt;

&lt;p&gt;a) that the initial Contributor has attached the notice described in Exhibit B to the Covered Software; or&lt;/p&gt;

&lt;p&gt;b) that the Covered Software was made available under the terms of version 1.1 or earlier of the License, but not also under the terms of a Secondary License.&lt;/p&gt;

&lt;h3 id=&#34;1-6-executable-form&#34;&gt;1.6. “Executable Form”&lt;/h3&gt;

&lt;p&gt;means any form of the work other than Source Code Form.&lt;/p&gt;

&lt;h3 id=&#34;1-7-larger-work&#34;&gt;1.7. “Larger Work”&lt;/h3&gt;

&lt;p&gt;means a work that combines Covered Software with other material, in a separate file or files, that is not Covered Software.&lt;/p&gt;

&lt;h3 id=&#34;1-8-license&#34;&gt;1.8. “License”&lt;/h3&gt;

&lt;p&gt;means this document.&lt;/p&gt;

&lt;h3 id=&#34;1-9-licensable&#34;&gt;1.9. “Licensable”&lt;/h3&gt;

&lt;p&gt;means having the right to grant, to the maximum extent possible, whether at the time of the initial grant or subsequently, any and all of the rights conveyed by this License.&lt;/p&gt;

&lt;h3 id=&#34;1-10-modifications&#34;&gt;1.10. “Modifications”&lt;/h3&gt;

&lt;p&gt;means any of the following:&lt;/p&gt;

&lt;p&gt;a) any file in Source Code Form that results from an addition to, deletion from, or modification of the contents of Covered Software; or&lt;/p&gt;

&lt;p&gt;b) any new file in Source Code Form that contains any Covered Software.&lt;/p&gt;

&lt;h3 id=&#34;1-11-patent-claims-of-a-contributor&#34;&gt;1.11. “Patent Claims” of a Contributor&lt;/h3&gt;

&lt;p&gt;means any patent claim(s), including without limitation, method, process, and apparatus claims, in any patent Licensable by such Contributor that would be infringed, but for the grant of the License, by the making, using, selling, offering for sale, having made, import, or transfer of either its Contributions or its Contributor Version.&lt;/p&gt;

&lt;h3 id=&#34;1-12-secondary-license&#34;&gt;1.12. “Secondary License”&lt;/h3&gt;

&lt;p&gt;means either the GNU General Public License, Version 2.0, the GNU Lesser General Public License, Version 2.1, the GNU Affero General Public License, Version 3.0, or any later versions of those licenses.&lt;/p&gt;

&lt;h3 id=&#34;1-13-source-code-form&#34;&gt;1.13. “Source Code Form”&lt;/h3&gt;

&lt;p&gt;means the form of the work preferred for making modifications.&lt;/p&gt;

&lt;h3 id=&#34;1-14-you-or-your&#34;&gt;1.14. “You” (or “Your”)&lt;/h3&gt;

&lt;p&gt;means an individual or a legal entity exercising rights under this License. For legal entities, “You” includes any entity that controls, is controlled by, or is under common control with You. For purposes of this definition, “control” means (a) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (b) ownership of more than fifty percent (50%) of the outstanding shares or beneficial ownership of such entity.&lt;/p&gt;

&lt;h2 id=&#34;2-license-grants-and-conditions&#34;&gt;2. License Grants and Conditions&lt;/h2&gt;

&lt;h3 id=&#34;2-1-grants&#34;&gt;2.1. Grants&lt;/h3&gt;

&lt;p&gt;Each Contributor hereby grants You a world-wide, royalty-free, non-exclusive license:&lt;/p&gt;

&lt;p&gt;under intellectual property rights (other than patent or trademark) Licensable by such Contributor to use, reproduce, make available, modify, display, perform, distribute, and otherwise exploit its Contributions, either on an unmodified basis, with Modifications, or as part of a Larger Work; and&lt;/p&gt;

&lt;p&gt;under Patent Claims of such Contributor to make, use, sell, offer for sale, have made, import, and otherwise transfer either its Contributions or its Contributor Version.&lt;/p&gt;

&lt;h3 id=&#34;2-2-effective-date&#34;&gt;2.2. Effective Date&lt;/h3&gt;

&lt;p&gt;The licenses granted in Section 2.1 with respect to any Contribution become effective for each Contribution on the date the Contributor first distributes such Contribution.&lt;/p&gt;

&lt;p&gt;### 2.3. Limitations on Grant Scope
The licenses granted in this Section 2 are the only rights granted under this License. No additional rights or licenses will be implied from the distribution or licensing of Covered Software under this License. Notwithstanding Section 2.1(b) above, no patent license is granted by a Contributor:&lt;/p&gt;

&lt;p&gt;for any code that a Contributor has removed from Covered Software; or&lt;/p&gt;

&lt;p&gt;for infringements caused by: (i) Your and any other third party’s modifications of Covered Software, or (ii) the combination of its Contributions with other software (except as part of its Contributor Version); or&lt;/p&gt;

&lt;p&gt;under Patent Claims infringed by Covered Software in the absence of its Contributions.&lt;/p&gt;

&lt;p&gt;This License does not grant any rights in the trademarks, service marks, or logos of any Contributor (except as may be necessary to comply with the notice requirements in Section 3.4).&lt;/p&gt;

&lt;h3 id=&#34;2-4-subsequent-licenses&#34;&gt;2.4. Subsequent Licenses&lt;/h3&gt;

&lt;p&gt;No Contributor makes additional grants as a result of Your choice to distribute the Covered Software under a subsequent version of this License (see Section 10.2) or under the terms of a Secondary License (if permitted under the terms of Section 3.3).&lt;/p&gt;

&lt;h3 id=&#34;2-5-representation&#34;&gt;2.5. Representation&lt;/h3&gt;

&lt;p&gt;Each Contributor represents that the Contributor believes its Contributions are its original creation(s) or it has sufficient rights to grant the rights to its Contributions conveyed by this License.&lt;/p&gt;

&lt;h3 id=&#34;2-6-fair-use&#34;&gt;2.6. Fair Use&lt;/h3&gt;

&lt;p&gt;This License is not intended to limit any rights You have under applicable copyright doctrines of fair use, fair dealing, or other equivalents.&lt;/p&gt;

&lt;h3 id=&#34;2-7-conditions&#34;&gt;2.7. Conditions&lt;/h3&gt;

&lt;p&gt;Sections 3.1, 3.2, 3.3, and 3.4 are conditions of the licenses granted in Section 2.1.&lt;/p&gt;

&lt;h2 id=&#34;3-responsibilities&#34;&gt;3. Responsibilities&lt;/h2&gt;

&lt;h3 id=&#34;3-1-distribution-of-source-form&#34;&gt;3.1. Distribution of Source Form&lt;/h3&gt;

&lt;p&gt;All distribution of Covered Software in Source Code Form, including any Modifications that You create or to which You contribute, must be under the terms of this License. You must inform recipients that the Source Code Form of the Covered Software is governed by the terms of this License, and how they can obtain a copy of this License. You may not attempt to alter or restrict the recipients’ rights in the Source Code Form.&lt;/p&gt;

&lt;h3 id=&#34;3-2-distribution-of-executable-form&#34;&gt;3.2. Distribution of Executable Form&lt;/h3&gt;

&lt;p&gt;If You distribute Covered Software in Executable Form then:&lt;/p&gt;

&lt;p&gt;such Covered Software must also be made available in Source Code Form, as described in Section 3.1, and You must inform recipients of the Executable Form how they can obtain a copy of such Source Code Form by reasonable means in a timely manner, at a charge no more than the cost of distribution to the recipient; and&lt;/p&gt;

&lt;p&gt;You may distribute such Executable Form under the terms of this License, or sublicense it under different terms, provided that the license for the Executable Form does not attempt to limit or alter the recipients’ rights in the Source Code Form under this License.&lt;/p&gt;

&lt;h3 id=&#34;3-3-distribution-of-a-larger-work&#34;&gt;3.3. Distribution of a Larger Work&lt;/h3&gt;

&lt;p&gt;You may create and distribute a Larger Work under terms of Your choice, provided that You also comply with the requirements of this License for the Covered Software. If the Larger Work is a combination of Covered Software with a work governed by one or more Secondary Licenses, and the Covered Software is not Incompatible With Secondary Licenses, this License permits You to additionally distribute such Covered Software under the terms of such Secondary License(s), so that the recipient of the Larger Work may, at their option, further distribute the Covered Software under the terms of either this License or such Secondary License(s).&lt;/p&gt;

&lt;h3 id=&#34;3-4-notices&#34;&gt;3.4. Notices&lt;/h3&gt;

&lt;p&gt;You may not remove or alter the substance of any license notices (including copyright notices, patent notices, disclaimers of warranty, or limitations of liability) contained within the Source Code Form of the Covered Software, except that You may alter any license notices to the extent required to remedy known factual inaccuracies.&lt;/p&gt;

&lt;h3 id=&#34;3-5-application-of-additional-terms&#34;&gt;3.5. Application of Additional Terms&lt;/h3&gt;

&lt;p&gt;You may choose to offer, and to charge a fee for, warranty, support, indemnity or liability obligations to one or more recipients of Covered Software. However, You may do so only on Your own behalf, and not on behalf of any Contributor. You must make it absolutely clear that any such warranty, support, indemnity, or liability obligation is offered by You alone, and You hereby agree to indemnify every Contributor for any liability incurred by such Contributor as a result of warranty, support, indemnity or liability terms You offer. You may include additional disclaimers of warranty and limitations of liability specific to any jurisdiction.&lt;/p&gt;

&lt;h2 id=&#34;4-inability-to-comply-due-to-statute-or-regulation&#34;&gt;4. Inability to Comply Due to Statute or Regulation&lt;/h2&gt;

&lt;p&gt;If it is impossible for You to comply with any of the terms of this License with respect to some or all of the Covered Software due to statute, judicial order, or regulation then You must: (a) comply with the terms of this License to the maximum extent possible; and (b) describe the limitations and the code they affect. Such description must be placed in a text file included with all distributions of the Covered Software under this License. Except to the extent prohibited by statute or regulation, such description must be sufficiently detailed for a recipient of ordinary skill to be able to understand it.&lt;/p&gt;

&lt;h2 id=&#34;5-termination&#34;&gt;5. Termination&lt;/h2&gt;

&lt;h3 id=&#34;5-1-compliance&#34;&gt;5.1. Compliance&lt;/h3&gt;

&lt;p&gt;The rights granted under this License will terminate automatically if You fail to comply with any of its terms. However, if You become compliant, then the rights granted under this License from a particular Contributor are reinstated (a) provisionally, unless and until such Contributor explicitly and finally terminates Your grants, and (b) on an ongoing basis, if such Contributor fails to notify You of the non-compliance by some reasonable means prior to 60 days after You have come back into compliance. Moreover, Your grants from a particular Contributor are reinstated on an ongoing basis if such Contributor notifies You of the non-compliance by some reasonable means, this is the first time You have received notice of non-compliance with this License from such Contributor, and You become compliant prior to 30 days after Your receipt of the notice.&lt;/p&gt;

&lt;h3 id=&#34;5-2-litigation&#34;&gt;5.2. Litigation&lt;/h3&gt;

&lt;p&gt;If You initiate litigation against any entity by asserting a patent infringement claim (excluding declaratory judgment actions, counter-claims, and cross-claims) alleging that a Contributor Version directly or indirectly infringes any patent, then the rights granted to You by any and all Contributors for the Covered Software under Section 2.1 of this License shall terminate.&lt;/p&gt;

&lt;h3 id=&#34;5-3-eula&#34;&gt;5.3. EULA&lt;/h3&gt;

&lt;p&gt;In the event of termination under Sections 5.1 or 5.2 above, all end user license agreements (excluding distributors and resellers) which have been validly granted by You or Your distributors under this License prior to termination shall survive termination.&lt;/p&gt;

&lt;h2 id=&#34;6-disclaimer-of-warranty&#34;&gt;6. Disclaimer of Warranty&lt;/h2&gt;

&lt;p&gt;Covered Software is provided under this License on an “as is” basis, without warranty of any kind, either expressed, implied, or statutory, including, without limitation, warranties that the Covered Software is free of defects, merchantable, fit for a particular purpose or non-infringing. The entire risk as to the quality and performance of the Covered Software is with You. Should any Covered Software prove defective in any respect, You (not any Contributor) assume the cost of any necessary servicing, repair, or correction. This disclaimer of warranty constitutes an essential part of this License. No use of any Covered Software is authorized under this License except under this disclaimer.&lt;/p&gt;

&lt;h2 id=&#34;7-limitation-of-liability&#34;&gt;7. Limitation of Liability&lt;/h2&gt;

&lt;p&gt;Under no circumstances and under no legal theory, whether tort (including negligence), contract, or otherwise, shall any Contributor, or anyone who distributes Covered Software as permitted above, be liable to You for any direct, indirect, special, incidental, or consequential damages of any character including, without limitation, damages for lost profits, loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses, even if such party shall have been informed of the possibility of such damages. This limitation of liability shall not apply to liability for death or personal injury resulting from such party’s negligence to the extent applicable law prohibits such limitation. Some jurisdictions do not allow the exclusion or limitation of incidental or consequential damages, so this exclusion and limitation may not apply to You.&lt;/p&gt;

&lt;h2 id=&#34;8-litigation&#34;&gt;8. Litigation&lt;/h2&gt;

&lt;p&gt;Any litigation relating to this License may be brought only in the courts of a jurisdiction where the defendant maintains its principal place of business and such litigation shall be governed by laws of that jurisdiction, without reference to its conflict-of-law provisions. Nothing in this Section shall prevent a party’s ability to bring cross-claims or counter-claims.&lt;/p&gt;

&lt;h2 id=&#34;9-miscellaneous&#34;&gt;9. Miscellaneous&lt;/h2&gt;

&lt;p&gt;This License represents the complete agreement concerning the subject matter hereof. If any provision of this License is held to be unenforceable, such provision shall be reformed only to the extent necessary to make it enforceable. Any law or regulation which provides that the language of a contract shall be construed against the drafter shall not be used to construe this License against a Contributor.&lt;/p&gt;

&lt;h2 id=&#34;10-versions-of-the-license&#34;&gt;10. Versions of the License&lt;/h2&gt;

&lt;h3 id=&#34;10-1-new-versions&#34;&gt;10.1. New Versions&lt;/h3&gt;

&lt;p&gt;Mozilla Foundation is the license steward. Except as provided in Section 10.3, no one other than the license steward has the right to modify or publish new versions of this License. Each version will be given a distinguishing version number.&lt;/p&gt;

&lt;h3 id=&#34;10-2-effect-of-new-versions&#34;&gt;10.2. Effect of New Versions&lt;/h3&gt;

&lt;p&gt;You may distribute the Covered Software under the terms of the version of the License under which You originally received the Covered Software, or under the terms of any subsequent version published by the license steward.&lt;/p&gt;

&lt;h3 id=&#34;10-3-modified-versions&#34;&gt;10.3. Modified Versions&lt;/h3&gt;

&lt;p&gt;If you create software not governed by this License, and you want to create a new license for such software, you may create and use a modified version of this License if you rename the license and remove any references to the name of the license steward (except to note that such modified license differs from this License).&lt;/p&gt;

&lt;h3 id=&#34;10-4-distributing-source-code-form-that-is-incompatible-with-secondary-licenses&#34;&gt;10.4. Distributing Source Code Form that is Incompatible With Secondary Licenses&lt;/h3&gt;

&lt;p&gt;If You choose to distribute Source Code Form that is Incompatible With Secondary Licenses under the terms of this version of the License, the notice described in Exhibit B of this License must be attached.&lt;/p&gt;

&lt;h2 id=&#34;exhibit-a-source-code-form-license-notice&#34;&gt;Exhibit A - Source Code Form License Notice&lt;/h2&gt;

&lt;p&gt;This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. If a copy of the MPL was not distributed with this file, You can obtain one at &lt;a href=&#34;https://mozilla.org/MPL/2.0/&#34;&gt;https://mozilla.org/MPL/2.0/&lt;/a&gt;.
If it is not possible or desirable to put the notice in a particular file, then You may include the notice in a location (such as a LICENSE file in a relevant directory) where a recipient would be likely to look for such a notice.&lt;/p&gt;

&lt;p&gt;You may add additional accurate notices of copyright ownership.&lt;/p&gt;

&lt;h2 id=&#34;exhibit-b-incompatible-with-secondary-licenses-notice&#34;&gt;Exhibit B - “Incompatible With Secondary Licenses” Notice&lt;/h2&gt;

&lt;p&gt;This Source Code Form is “Incompatible With Secondary Licenses”, as defined by the Mozilla Public License, v. 2.0.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>